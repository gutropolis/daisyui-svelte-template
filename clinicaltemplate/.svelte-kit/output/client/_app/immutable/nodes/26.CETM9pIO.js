import{p as e,i as t,f as s,c as a,g as i,A as l,n as r,r as n,H as o,b as d,j as c,u as p,t as u,B as g,a0 as x,K as b,v as f,L as m,a as v,d as y,q as h,F as w,h as I,e as E,m as k,k as C,D as A,G as T,aa as S,C as M,J as G,Z as D,_ as N,I as P,ab as R,$ as j,ac as F,a5 as q}from"../chunks/O-IopRwW.js";var U=s('<i class="fas fa-spinner fa-spin mr-2"></i>Saving...',1),L=s('<i class="fas fa-save mr-2"></i>Save Settings',1),O=s('<div class="space-y-6"><div class="bg-white rounded-lg shadow p-6"><h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><i class="fas fa-folder text-[#0b3a7a]"></i> Project Configuration</h2> <form class="space-y-6"><div><label class="block text-sm font-semibold text-gray-700 mb-2">Project Title <span class="text-red-500">*</span></label> <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter project title"/> <p class="text-xs text-gray-500 mt-1">The name of your research project</p></div> <div><label class="block text-sm font-semibold text-gray-700 mb-2">Project Purpose <span class="text-red-500">*</span></label> <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Describe the purpose of your project" rows="3"></textarea> <p class="text-xs text-gray-500 mt-1">Brief description of the project\'s objectives</p></div> <div class="border-t pt-6"><h3 class="text-lg font-semibold text-gray-800 mb-4">Enable Features</h3> <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg mb-4"><div class="flex items-start gap-3"><div class="mt-1"><i class="fas fa-check-circle text-green-500 text-lg"></i></div> <div><p class="font-semibold text-gray-800">Use surveys in this project?</p> <p class="text-sm text-gray-600 mt-1">Allow participants to complete surveys online <a href="#" class="text-[#0b3a7a] hover:underline ml-1">?</a></p></div></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#0b3a7a]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[\'\'] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#0b3a7a]"></div></label></div> <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg mb-4"><div class="flex items-start gap-3"><div class="mt-1"><i class="fas fa-check-circle text-green-500 text-lg"></i></div> <div><p class="font-semibold text-gray-800">Use longitudinal data collection with defined events?</p> <p class="text-sm text-gray-600 mt-1">Schedule multiple visits/events for participants <a href="#" class="text-[#0b3a7a] hover:underline ml-1">?</a></p></div></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#0b3a7a]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[\'\'] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#0b3a7a]"></div></label></div> <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"><div class="flex items-start gap-3"><div class="mt-1"><i class="fas fa-times-circle text-red-500 text-lg"></i></div> <div><p class="font-semibold text-gray-800">Use the MyCap participant-facing mobile app?</p> <p class="text-sm text-gray-600 mt-1">Allow participants to access forms via mobile app <a href="#" class="text-[#0b3a7a] hover:underline ml-1">?</a></p> <a href="#" class="text-[#0b3a7a] hover:underline text-sm mt-2 inline-block">Learn more about MyCap</a></div></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#0b3a7a]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[\'\'] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#0b3a7a]"></div></label></div></div> <div class="border-t pt-6"><label class="block text-sm font-semibold text-gray-700 mb-2">Notes</label> <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Add any additional notes or comments" rows="3"></textarea></div> <div class="flex gap-4 justify-end border-t pt-6"><button type="button" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Cancel</button> <button type="submit" class="px-6 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors disabled:opacity-50"><!></button></div></form></div> <div class="bg-[#0b3a7a]/5 rounded-lg shadow p-6 border border-[#0b3a7a]/10"><h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2"><i class="fas fa-info-circle text-[#0b3a7a]"></i> Quick Help</h3> <ul class="space-y-2 text-sm text-gray-700"><li class="flex gap-2"><span class="text-[#0b3a7a] font-bold">•</span> <span><strong>Surveys:</strong> Enable if you want participants to complete online forms</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a] font-bold">•</span> <span><strong>Longitudinal:</strong> Use this for multi-visit studies with scheduled events</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a] font-bold">•</span> <span><strong>MyCap:</strong> Mobile app access for remote data collection</span></li></ul></div></div>');function _(s,w){e(w,!1);let I=p({title:"Diabetes Study 2025",purpose:"Clinical research on diabetes management",useSurveys:!0,useLongitudinal:!0,useMyCap:!1,notes:""}),E=p(!1);t();var k=O(),C=a(k),A=i(a(C),2),T=a(A),S=i(a(T),2);l(S),r(2),n(T);var M=i(T,2),G=i(a(M),2);o(G),r(2),n(M);var D=i(M,2),N=i(a(D),2),P=i(a(N),2),R=a(P);l(R),r(2),n(P),n(N);var j=i(N,2),F=i(a(j),2),q=a(F);l(q),r(2),n(F),n(j);var _=i(j,2),W=i(a(_),2),$=a(W);l($),r(2),n(W),n(_),n(D);var z=i(D,2),V=i(a(z),2);o(V),n(z);var B=i(z,2),Q=i(a(B),2),Y=a(Q),H=e=>{var t=U();r(),v(e,t)},J=e=>{var t=L();r(),v(e,t)};d(Y,e=>{c(E)?e(H):e(J,!1)}),n(Q),n(B),n(A),n(C),r(2),n(k),u(()=>Q.disabled=c(E)),g(S,()=>c(I).title,e=>x(I,c(I).title=e)),g(G,()=>c(I).purpose,e=>x(I,c(I).purpose=e)),b(R,()=>c(I).useSurveys,e=>x(I,c(I).useSurveys=e)),b(q,()=>c(I).useLongitudinal,e=>x(I,c(I).useLongitudinal=e)),b($,()=>c(I).useMyCap,e=>x(I,c(I).useMyCap=e)),g(V,()=>c(I).notes,e=>x(I,c(I).notes=e)),f("submit",A,m(async()=>{h(E,!0),await new Promise(e=>setTimeout(e,1e3)),h(E,!1),alert("Project settings saved successfully!")})),v(s,k),y()}var W=s('<div class="col-span-1 lg:col-span-2 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3"><i class="fas fa-check-circle text-green-600 text-lg"></i> <p class="text-green-700 font-medium"> </p></div>'),$=s('<div class="text-center py-12"><i class="fas fa-inbox text-4xl text-gray-300 mb-4 block"></i> <p class="text-gray-600 font-medium">No events created yet</p> <p class="text-gray-400 text-sm">Click "Add New Event" to create your first event</p></div>'),z=s('<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-[#0b3a7a]/30 transition-colors"><div class="flex-1"><h3 class="font-semibold text-gray-800"> </h3> <p class="text-sm text-gray-600 mt-1"> </p> <p class="text-xs text-gray-500 mt-2 font-mono"> </p></div> <div class="flex gap-2"><button class="p-2 rounded-lg hover:bg-gray-200 text-[#0b3a7a] transition-colors" title="Edit Event"><i class="fas fa-pen-square text-lg"></i></button> <button class="p-2 rounded-lg hover:bg-red-100 text-red-500 transition-colors" title="Delete Event"><i class="fas fa-trash text-lg"></i></button></div></div>'),V=s('<div class="space-y-3"></div>'),B=s('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4"><h2 class="text-xl font-bold text-gray-800 mb-6"> </h2> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Title <span class="text-red-500">*</span></label> <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter event title"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">API Level Identifier <span class="text-red-500">*</span></label> <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="e.g. screening, baseline, week_4"/> <p class="text-xs text-gray-500 mt-1">Unique identifier for API calls</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Description</label> <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter event description" rows="4"></textarea></div> <div class="flex gap-3 justify-end mt-6 pt-4 border-t"><button type="button" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">CANCEL</button> <button type="submit" class="px-6 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors">SAVE</button></div></form></div></div>'),Q=s('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><!> <div class="lg:col-span-2 space-y-6"><div class="bg-white rounded-lg shadow p-6"><div class="flex items-center justify-between mb-6"><h2 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="fas fa-calendar text-[#0b3a7a]"></i> Project Events</h2> <button class="px-4 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors flex items-center gap-2"><i class="fas fa-plus"></i> Add New Event</button></div> <!></div></div> <div class="lg:col-span-1"><div class="bg-[#0b3a7a]/5 rounded-lg p-5 border border-[#0b3a7a]/10 sticky top-4 space-y-6"><div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-info-circle text-[#0b3a7a]"></i> What are Events?</h3> <p class="text-xs text-gray-700 leading-relaxed">Events represent key moments or visits in your clinical study. Each event can contain multiple forms and data collection points. Events help organize the timeline of your study visits.</p></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-question-circle text-[#0b3a7a]"></i> Why Events Matter</h3> <ul class="text-xs text-gray-700 space-y-1.5 leading-relaxed"><li class="flex gap-2"><span class="text-[#0b3a7a] font-semibold">•</span> <span><strong>Organization:</strong> Structure data collection around study visits</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a] font-semibold">•</span> <span><strong>Workflow:</strong> Define which forms are completed at each visit</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a] font-semibold">•</span> <span><strong>Tracking:</strong> Monitor participant progress through study milestones</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a] font-semibold">•</span> <span><strong>Timing:</strong> Enforce study protocols and visit windows</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-layer-group text-[#0b3a7a]"></i> Event Components</h3> <ul class="text-xs text-gray-700 space-y-1.5"><li class="flex gap-2"><span class="text-[#0b3a7a]">•</span> <span><strong>Title:</strong> Display name of the event (e.g., "Screening", "Baseline")</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">•</span> <span><strong>API Identifier:</strong> Unique code for system integration</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">•</span> <span><strong>Description:</strong> Details about the event purpose and timing</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-key text-[#0b3a7a]"></i> API Identifier (Must be Unique)</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">A unique identifier used in API calls and system references. Each event must have a distinct identifier.</p> <div class="bg-white border border-gray-300 rounded p-2.5 text-xs"><p class="text-gray-600 mb-1"><strong>Examples:</strong></p> <p class="font-mono text-gray-700 text-xs">screening, baseline, week_4</p> <p class="text-gray-600 text-xs mt-2 leading-relaxed">✓ Use lowercase letters, numbers, and underscores<br/> ✓ No spaces or special characters<br/> ✓ Must be unique across all events</p></div></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-calendar text-[#0b3a7a]"></i> Event Timing & Planning</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">Define your event sequence based on your study protocol:</p> <ul class="text-xs text-gray-700 space-y-1"><li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span><strong>Screening:</strong> Initial eligibility assessment</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span><strong>Baseline:</strong> Start of study data collection</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span><strong>Follow-ups:</strong> Regular visit intervals</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span><strong>Final:</strong> Study completion visit</span></li></ul></div> <div class="bg-white rounded p-3 border border-gray-200"><h4 class="text-xs font-semibold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-lightbulb text-yellow-500"></i> Best Practices</h4> <ul class="text-xs text-gray-700 space-y-1"><li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span>Use clear, descriptive event names</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span>Use consistent naming for API identifiers</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span>Document expected visit timelines</span></li> <li class="flex gap-2"><span class="text-[#0b3a7a]">→</span> <span>Plan events in chronological order</span></li></ul></div></div></div></div> <!>',1);function Y(e){let t=p([{id:1,title:"Screening",apiIdentifier:"screening",description:"Initial patient screening visit"},{id:2,title:"Baseline",apiIdentifier:"baseline",description:"Baseline data collection at the start of the study"},{id:3,title:"Week 4 Visit",apiIdentifier:"week_4",description:"Follow-up visit at 4 weeks"}]),s=p(!1),b=p(!1),y=null,k=p(""),C=p({title:"",apiIdentifier:"",description:""});const A=()=>{h(s,!1),h(C,{title:"",apiIdentifier:"",description:""})},T=()=>{if(c(C).title&&c(C).apiIdentifier){if(c(b)&&null!==y){const e=c(t).findIndex(e=>e.id===y);-1!==e&&x(t,c(t)[e]={...c(t)[e],title:c(C).title,apiIdentifier:c(C).apiIdentifier,description:c(C).description}),h(k,"Event updated successfully!")}else{const e={id:Math.max(...c(t).map(e=>e.id),0)+1,title:c(C).title,apiIdentifier:c(C).apiIdentifier,description:c(C).description};h(t,[...c(t),e]),h(k,"Event added successfully!")}A(),setTimeout(()=>{h(k,"")},3e3)}else alert("Please fill in all required fields")};var S=Q(),M=w(S),G=a(M),D=e=>{var t=W(),s=i(a(t),2),l=a(s,!0);n(s),n(t),u(()=>I(l,c(k))),v(e,t)};d(G,e=>{c(k)&&e(D)});var N=i(G,2),P=a(N),R=a(P),j=i(a(R),2);n(R);var F=i(R,2),q=e=>{var t=$();v(e,t)},U=e=>{var l=V();E(l,5,()=>c(t),e=>e.id,(e,l)=>{var r=z(),o=a(r),d=a(o),p=a(d,!0);n(d);var g=i(d,2),x=a(g,!0);n(g);var m=i(g,2),w=a(m);n(m),n(o);var E=i(o,2),A=a(E),T=i(A,2);n(E),n(r),u(()=>{I(p,c(l).title),I(x,c(l).description),I(w,`API ID: ${c(l).apiIdentifier??""}`)}),f("click",A,()=>{return e=c(l),h(b,!0),y=e.id,h(C,{title:e.title,apiIdentifier:e.apiIdentifier,description:e.description}),void h(s,!0);var e}),f("click",T,()=>{return e=c(l).id,void(confirm("Are you sure you want to delete this event?")&&(h(t,c(t).filter(t=>t.id!==e)),h(k,"Event deleted successfully!"),setTimeout(()=>{h(k,"")},3e3)));var e}),v(e,r)}),n(l),v(e,l)};d(F,e=>{0===c(t).length?e(q):e(U,!1)}),n(P),n(N),r(2),n(M);var L=i(M,2),O=e=>{var t=B(),s=a(t),d=a(s),p=a(d,!0);n(d);var y=i(d,2),h=a(y),w=i(a(h),2);l(w),n(h);var E=i(h,2),k=i(a(E),2);l(k),r(2),n(E);var S=i(E,2),M=i(a(S),2);o(M),n(S);var G=i(S,2),D=a(G);r(2),n(G),n(y),n(s),n(t),u(()=>I(p,c(b)?"Edit Event":"Add New Event")),g(w,()=>c(C).title,e=>x(C,c(C).title=e)),g(k,()=>c(C).apiIdentifier,e=>x(C,c(C).apiIdentifier=e)),g(M,()=>c(C).description,e=>x(C,c(C).description=e)),f("click",D,A),f("submit",y,m(T)),v(e,t)};d(L,e=>{c(s)&&e(O)}),f("click",j,()=>{h(b,!1),y=null,h(C,{title:"",apiIdentifier:"",description:""}),h(s,!0)}),v(e,S)}var H=s('<div class="bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3 mb-6"><i class="fas fa-check-circle text-green-600 text-lg"></i> <p class="text-green-700 font-medium"> </p></div>'),J=s('<div class="text-center py-12"><i class="fas fa-inbox text-4xl text-gray-300 mb-4 block"></i> <p class="text-gray-600 font-medium">No sites created yet</p> <p class="text-gray-400 text-sm">Click "ADD SITE" to add your first research site</p></div>'),K=s('<p class="text-xs text-gray-500 mt-1"><i class="fas fa-users text-[#0b3a7a] mr-1"></i> </p>'),X=s('<div class="relative group"><img class="w-12 h-12 rounded-full border-3 border-white hover:shadow-lg transition-all hover:z-20 hover:scale-110 cursor-pointer"/></div>'),Z=s('<div class="w-12 h-12 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold border-3 border-white hover:shadow-lg transition-all hover:z-20 hover:scale-110 cursor-pointer flex-shrink-0"> </div>'),ee=s('<div class="flex -space-x-4"><!> <!></div>'),te=s('<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-[#0b3a7a]/30 transition-colors"><div class="flex-1"><div class="flex items-center gap-3"><i class="fas fa-map-pin text-[#0b3a7a] text-xl"></i> <div><h3 class="font-semibold text-gray-800"> </h3> <p class="text-sm text-gray-600 mt-1"><i class="fas fa-barcode text-[#0b3a7a] mr-1"></i> </p> <p class="text-xs text-gray-500 mt-1"><i class="fas fa-map text-[#0b3a7a] mr-1"></i> </p> <p class="text-xs text-gray-500 mt-1"><i class="fas fa-envelope text-[#0b3a7a] mr-1"></i> </p> <!></div></div></div> <div class="flex items-center gap-4"><div class="flex items-center"><!></div> <div class="flex gap-2"><button class="p-2 rounded-lg hover:bg-gray-200 text-[#0b3a7a] transition-colors" title="Edit Site"><i class="fas fa-pen-square text-lg"></i></button> <button class="p-2 rounded-lg hover:bg-red-100 text-red-500 transition-colors" title="Delete Site"><i class="fas fa-trash text-lg"></i></button></div></div></div>'),se=s('<div class="space-y-3"></div>'),ae=s('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4"><h2 class="text-xl font-bold text-gray-800 mb-6"> </h2> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Name <span class="text-red-500">*</span></label> <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter site name"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Code <span class="text-red-500">*</span></label> <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter site code (e.g., SITE-001)"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Address <span class="text-red-500">*</span></label> <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter site address"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Primary Contact <span class="text-red-500">*</span></label> <input type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] focus:border-transparent outline-none" placeholder="Enter contact email"/></div> <div class="flex gap-3 justify-end mt-6 pt-4 border-t"><button type="button" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">CANCEL</button> <button type="submit" class="px-6 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors">SAVE</button></div></form></div></div>'),ie=s('<!> <div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div class="grid grid-cols-3 gap-4"><div class="bg-white rounded-lg shadow p-4 border-l-4 border-[#0b3a7a]"><p class="text-gray-600 text-sm font-medium">Total Sites</p> <p class="text-3xl font-bold text-[#0b3a7a] mt-2"> </p></div> <div class="bg-white rounded-lg shadow p-4 border-l-4 border-green-500"><p class="text-gray-600 text-sm font-medium">Total Participants</p> <p class="text-3xl font-bold text-green-600 mt-2"> </p></div> <div class="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500"><p class="text-gray-600 text-sm font-medium">Avg per Site</p> <p class="text-3xl font-bold text-blue-600 mt-2"> </p></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center justify-between mb-6"><h2 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="fas fa-building text-[#0b3a7a]"></i> Project Sites</h2> <button class="px-4 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors flex items-center gap-2"><i class="fas fa-plus"></i> ADD SITE</button></div> <!></div></div> <div class="lg:col-span-1"><div class="bg-blue-50 rounded-lg p-5 border border-blue-200 sticky top-4 space-y-6"><div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-info-circle text-blue-600"></i> What are Sites?</h3> <p class="text-xs text-gray-700 leading-relaxed">Sites are individual research locations or hospitals where your clinical study is being conducted. Each site enrolls and manages participants, collects data, and reports results back to the coordinating center.</p></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-question-circle text-blue-600"></i> Why Sites Matter</h3> <ul class="text-xs text-gray-700 space-y-1.5 leading-relaxed"><li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Participant Recruitment:</strong> Sites enroll eligible participants</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Data Collection:</strong> Conduct visits per protocol</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Geographic Coverage:</strong> Expand study reach</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Compliance:</strong> Track regulatory compliance</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Quality Control:</strong> Monitor data quality</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-barcode text-blue-600"></i> Site Code (Must be Unique)</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">A unique identifier for each site used in data management and reporting. Each site must have a distinct code.</p> <div class="bg-white border border-gray-300 rounded p-2.5 text-xs"><p class="text-gray-600 mb-1"><strong>Example:</strong></p> <p class="font-mono text-gray-700 text-xs">SITE-001</p> <p class="text-gray-600 text-xs mt-2 leading-relaxed">✓ Use uppercase with hyphens<br/> ✓ Sequential numbering<br/> ✓ Must be unique across all sites</p></div></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-file-alt text-blue-600"></i> Site Information Fields</h3> <ul class="text-xs text-gray-700 space-y-2"><li class="flex gap-2"><span class="text-blue-600 font-semibold">→</span> <span><strong>Name:</strong> Official site name or facility name</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">→</span> <span><strong>Code:</strong> Unique site identifier (required)</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">→</span> <span><strong>Address:</strong> Complete site location</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">→</span> <span><strong>Primary Contact:</strong> Site coordinator email</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-users text-blue-600"></i> Site Staff & Users</h3> <p class="text-xs text-gray-700 leading-relaxed">Each site has a team of staff members who conduct study activities. User avatars are displayed with overlapping layout showing up to 4 members. Click "+X" to see additional team members.</p></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-chart-bar text-blue-600"></i> Participant Tracking</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">Track participant enrollment across all sites with summary statistics:</p> <ul class="text-xs text-gray-700 space-y-1"><li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>Total Sites:</strong> Number of active research sites</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>Total Participants:</strong> Aggregate enrollment across all sites</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>Average per Site:</strong> Mean participants per site</span></li></ul></div> <div class="bg-white rounded p-3 border border-gray-200"><h4 class="text-xs font-semibold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-lightbulb text-yellow-500"></i> Quick Tips</h4> <ul class="text-xs text-gray-700 space-y-1"><li class="flex gap-2"><span class="text-blue-600">→</span> <span>Keep site codes consistent and meaningful</span></li> <li class="flex gap-2"><span class="text-blue-600">→</span> <span>Update contact information promptly</span></li> <li class="flex gap-2"><span class="text-blue-600">→</span> <span>Document all site staff changes</span></li> <li class="flex gap-2"><span class="text-blue-600">→</span> <span>Monitor participant enrollment trends</span></li></ul></div></div></div></div> <!>',1);function le(e){let t=p([{id:1,name:"SITE 21 S2ert",code:"SITE-001",address:"123 Medical Center Drive, New York, NY 10001",contact:"dr.smith@hospital.com",participantCount:12,users:[{name:"John Smith",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=John"},{name:"Sarah Johnson",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Sarah"},{name:"Mike Davis",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Mike"}]},{id:2,name:"Research Center Boston",code:"SITE-002",address:"456 Research Blvd, Boston, MA 02115",contact:"dr.johnson@research.com",participantCount:8,users:[{name:"Emily Brown",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Emily"},{name:"David Wilson",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=David"},{name:"Lisa Anderson",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lisa"}]},{id:3,name:"Clinical Hub Toronto",code:"SITE-003",address:"789 Clinical Avenue, Toronto, ON M5H 2N2",contact:"dr.williams@clinical.com",participantCount:5,users:[{name:"Robert Taylor",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Robert"},{name:"Jennifer White",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Jennifer"},{name:"Christopher Lee",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Christopher"}]}]),s=p(!1),o=p(!1),b=null,y=p(""),C=p({name:"",code:"",address:"",contact:""});const A=()=>{h(s,!1),h(C,{name:"",code:"",address:"",contact:""})},T=()=>{if(c(C).name&&c(C).code&&c(C).address&&c(C).contact){if(c(o)&&null!==b){const e=c(t).findIndex(e=>e.id===b);-1!==e&&x(t,c(t)[e]={...c(t)[e],name:c(C).name,code:c(C).code,address:c(C).address,contact:c(C).contact}),h(y,"Site updated successfully!")}else{const e={id:Math.max(...c(t).map(e=>e.id),0)+1,name:c(C).name,code:c(C).code,address:c(C).address,contact:c(C).contact,participantCount:0};h(t,[...c(t),e]),h(y,"Site added successfully!")}A(),setTimeout(()=>{h(y,"")},3e3)}else alert("Please fill in all required fields")},S=()=>c(t).reduce((e,t)=>e+(t.participantCount||0),0);var M=ie(),G=w(M),D=e=>{var t=H(),s=i(a(t),2),l=a(s,!0);n(s),n(t),u(()=>I(l,c(y))),v(e,t)};d(G,e=>{c(y)&&e(D)});var N=i(G,2),P=a(N),R=a(P),j=a(R),F=i(a(j),2),q=a(F,!0);n(F),n(j);var U=i(j,2),L=i(a(U),2),O=a(L,!0);n(L),n(U);var _=i(U,2),W=i(a(_),2),$=a(W,!0);n(W),n(_),n(R);var z=i(R,2),V=a(z),B=i(a(V),2);n(V);var Q=i(V,2),Y=e=>{var t=J();v(e,t)},le=e=>{var l=se();E(l,5,()=>c(t),e=>e.id,(e,l)=>{var r=te(),p=a(r),g=a(p),x=i(a(g),2),m=a(x),w=a(m,!0);n(m);var A=i(m,2),T=i(a(A));n(A);var S=i(A,2),M=i(a(S));n(S);var G=i(S,2),D=i(a(G));n(G);var N=i(G,2),P=e=>{var t=K(),s=i(a(t));n(t),u(()=>I(s,` ${c(l).participantCount??""} participants`)),v(e,t)};d(N,e=>{c(l).participantCount&&e(P)}),n(x),n(g),n(p);var R=i(p,2),j=a(R),F=a(j),q=e=>{var t=ee(),s=a(t);E(s,3,()=>c(l).users.slice(0,4),e=>e.name,(e,t)=>{var s=X(),i=a(s);n(s),u(()=>{k(i,"src",c(t).avatar),k(i,"alt",c(t).name),k(i,"title",c(t).name)}),v(e,s)});var r=i(s,2),o=e=>{var t=Z(),s=a(t);n(t),u(()=>{k(t,"title",`+${c(l).users.length-4} more members`),I(s,"+"+(c(l).users.length-4))}),v(e,t)};d(r,e=>{c(l).users.length>4&&e(o)}),n(t),v(e,t)};d(F,e=>{c(l).users&&e(q)}),n(j);var U=i(j,2),L=a(U),O=i(L,2);n(U),n(R),n(r),u(()=>{I(w,c(l).name),I(T,` ${c(l).code??""}`),I(M,` ${c(l).address??""}`),I(D,` ${c(l).contact??""}`)}),f("click",L,()=>(e=>{h(o,!0),b=e.id,h(C,{name:e.name,code:e.code,address:e.address,contact:e.contact}),h(s,!0)})(c(l))),f("click",O,()=>{return e=c(l).id,void(confirm("Are you sure you want to delete this site?")&&(h(t,c(t).filter(t=>t.id!==e)),h(y,"Site deleted successfully!"),setTimeout(()=>{h(y,"")},3e3)));var e}),v(e,r)}),n(l),v(e,l)};d(Q,e=>{0===c(t).length?e(Y):e(le,!1)}),n(z),n(P),r(2),n(N);var re=i(N,2),ne=e=>{var t=ae(),s=a(t),d=a(s),p=a(d,!0);n(d);var b=i(d,2),y=a(b),h=i(a(y),2);l(h),n(y);var w=i(y,2),E=i(a(w),2);l(E),n(w);var k=i(w,2),S=i(a(k),2);l(S),n(k);var M=i(k,2),G=i(a(M),2);l(G),n(M);var D=i(M,2),N=a(D);r(2),n(D),n(b),n(s),n(t),u(()=>I(p,c(o)?"Edit Site":"Add New Site")),g(h,()=>c(C).name,e=>x(C,c(C).name=e)),g(E,()=>c(C).code,e=>x(C,c(C).code=e)),g(S,()=>c(C).address,e=>x(C,c(C).address=e)),g(G,()=>c(C).contact,e=>x(C,c(C).contact=e)),f("click",N,A),f("submit",b,m(T)),v(e,t)};d(re,e=>{c(s)&&e(ne)}),u((e,s)=>{I(q,c(t).length),I(O,e),I($,s)},[S,()=>c(t).length>0?Math.round(S()/c(t).length):0]),f("click",B,()=>{h(o,!1),b=null,h(C,{name:"",code:"",address:"",contact:""}),h(s,!0)}),v(e,M)}var re=s('<div class="mb-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm flex items-center gap-2"><i class="fas fa-check-circle"></i> </div>'),ne=s('<div class="text-center py-8 text-gray-500"><i class="fas fa-inbox text-3xl mb-2 block"></i> <p class="text-sm">No groups added yet. Click "ADD GROUPS" to create one.</p></div>'),oe=s('<tr><td colspan="4" class="px-3 py-3 text-center text-gray-500 text-xs">No fields added yet</td></tr>'),de=s('<tr class="border-t border-gray-200 hover:bg-white transition-colors"><td class="px-3 py-2 text-gray-700"> </td><td class="px-3 py-2 text-gray-700"> </td><td class="px-3 py-2 text-blue-600"> </td><td class="px-3 py-2"><div class="flex gap-1"><button class="p-0.5 text-gray-400 hover:text-blue-600 transition-colors" title="Edit"><i class="fas fa-pen-square text-xs"></i></button> <button class="p-0.5 text-gray-400 hover:text-red-600 transition-colors" title="Delete"><i class="fas fa-trash text-xs"></i></button></div></td></tr>'),ce=s('<div class="bg-gray-50 rounded p-4 border border-gray-200"><div class="flex items-center justify-between mb-3"><div class="flex-1"><h3 class="text-sm font-bold text-gray-800"> </h3> <p class="text-xs text-gray-600"> </p></div> <div class="flex items-center gap-2 ml-3"><button class="p-1 text-gray-400 hover:text-blue-600 transition-colors text-sm" title="Edit"><i class="fas fa-pen-square"></i></button> <button class="p-1 text-gray-400 hover:text-red-600 transition-colors text-sm" title="Delete"><i class="fas fa-trash"></i></button></div></div> <div class="text-xs text-gray-600 mb-2 flex justify-between"><span><strong>Series type:</strong> </span> <span>Total fields: <strong> </strong></span></div> <div><div class="flex items-center gap-2 mb-2"><h4 class="text-xs font-semibold text-gray-700">Fields</h4> <button class="p-0.5 text-gray-400 hover:text-blue-600 text-xs" title="Add Field"><i class="fas fa-plus"></i></button> <button class="p-0.5 text-gray-400 hover:text-gray-600 text-xs"><i class="fas fa-search"></i></button></div> <div class="overflow-x-auto"><table class="w-full text-xs"><thead><tr class="bg-gray-100"><th class="px-3 py-1.5 text-left font-semibold text-gray-700">TYPE</th><th class="px-3 py-1.5 text-left font-semibold text-gray-700">NAME</th><th class="px-3 py-1.5 text-left font-semibold text-gray-700">API IDENTIFIER</th><th class="px-3 py-1.5 text-left font-semibold text-gray-700">ACTION</th></tr></thead><tbody><!></tbody></table></div></div></div>'),pe=s("<option> </option>"),ue=s('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 p-6"><h2 class="text-lg font-bold text-gray-800 mb-4"> </h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Title</label> <input type="text" placeholder="Enter title" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/> <p class="text-xs text-gray-500 mt-1">It will appear in the entry editor</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">API Level Identifier</label> <input type="text" placeholder="Enter api level identifier" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/> <p class="text-xs text-gray-500 mt-1">Database level identifier</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Scan Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Series List</label> <textarea placeholder="Enter series list" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"></textarea></div></div> <div class="mt-6 flex gap-3 justify-end"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium text-sm transition-colors">CANCEL</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors">SAVE</button></div></div></div>'),ge=s("<option> </option>"),xe=s('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 p-6"><h2 class="text-lg font-bold text-gray-800 mb-4"> </h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Name</label> <input type="text" placeholder="Enter field name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">API Level Identifier</label> <input type="text" placeholder="Enter api level identifier" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/></div></div> <div class="mt-6 flex gap-3 justify-end"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium text-sm transition-colors">CANCEL</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors">SAVE</button></div></div></div>'),be=s('<!> <div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-4"><div class="flex items-center justify-between"><h2 class="text-xl font-bold text-gray-800">Imaging Groups</h2> <div class="flex items-center gap-3"><div class="flex items-center gap-2"><span class="text-xs text-gray-600">PREVIEW</span> <button><span></span></button></div> <button class="text-blue-600 text-sm font-semibold hover:text-blue-700">ADD GROUPS</button></div></div> <div class="space-y-3"><!></div></div> <div class="lg:col-span-1"><div class="bg-purple-50 rounded-lg p-5 border border-purple-200 sticky top-4 space-y-6"><div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-image text-purple-600"></i> What are Imaging Groups?</h3> <p class="text-xs text-gray-700 leading-relaxed">Imaging Groups are structured containers that organize imaging study protocols and sequences. They define how medical imaging data (DICOM files) should be collected, organized, and processed for clinical research studies.</p></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-question-circle text-purple-600"></i> Why Do We Need Imaging Groups?</h3> <ul class="text-xs text-gray-700 space-y-1.5 leading-relaxed"><li class="flex gap-2"><span class="text-purple-600 font-semibold">•</span> <span><strong>Protocol Organization:</strong> Organize imaging sequences and series logically</span></li> <li class="flex gap-2"><span class="text-purple-600 font-semibold">•</span> <span><strong>DICOM Management:</strong> Standardize DICOM file handling and identification</span></li> <li class="flex gap-2"><span class="text-purple-600 font-semibold">•</span> <span><strong>Data Consistency:</strong> Ensure consistent imaging data collection across sites</span></li> <li class="flex gap-2"><span class="text-purple-600 font-semibold">•</span> <span><strong>Quality Control:</strong> Track and validate imaging series and metadata</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-key text-purple-600"></i> API Identifier (Must be Unique)</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">A unique identifier for the imaging group used in API calls and system references. Must be distinct across all imaging groups in the study.</p> <div class="bg-white border border-gray-300 rounded p-2.5 text-xs"><p class="text-gray-600 mb-1"><strong>Example:</strong></p> <p class="font-mono text-gray-700 text-xs">mri_brain_t1w</p> <p class="text-gray-600 text-xs mt-2 leading-relaxed">✓ Use lowercase letters, numbers, and underscores<br/> ✓ No spaces or special characters<br/> ✓ Must be unique across all groups</p></div></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-layer-group text-purple-600"></i> What are Series?</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">Series are individual sequences within an imaging group. Each series represents a specific imaging acquisition with its own protocol and parameters (e.g., T1-weighted, T2-weighted, FLAIR for MRI).</p> <p class="text-xs text-gray-700 leading-relaxed"><strong>Common Series Types:</strong></p> <ul class="text-xs text-gray-700 space-y-0.5 mt-1.5"><li class="flex gap-2"><span class="text-purple-600">•</span> <span>T1, T2, FLAIR (MRI)</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span>CT, Localizer, Scout</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span>DWI, DTI, fMRI (Functional)</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-barcode text-purple-600"></i> DICOM Identifier (DCM Identifier)</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">A unique identifier used to match and identify DICOM files within a series. Essential for:</p> <ul class="text-xs text-gray-700 space-y-1 mb-2"><li class="flex gap-2"><span class="text-purple-600">→</span> <span>Automated DICOM file routing and processing</span></li> <li class="flex gap-2"><span class="text-purple-600">→</span> <span>Quality assurance and validation checks</span></li> <li class="flex gap-2"><span class="text-purple-600">→</span> <span>Linking imaging data to clinical data</span></li></ul> <div class="bg-white border border-gray-300 rounded p-2.5 text-xs"><p class="text-gray-600 mb-1"><strong>Example:</strong></p> <p class="font-mono text-gray-700 text-xs">BRAIN_T1_001</p> <p class="text-gray-600 text-xs mt-2">Must match DICOM SeriesDescription in image headers</p></div></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-list text-purple-600"></i> What are Fields?</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">Fields capture imaging metadata and acquisition parameters for each series. These can include protocol details, reconstruction methods, or QA measurements.</p> <p class="text-xs text-gray-700 leading-relaxed"><strong>Supported Field Types:</strong></p> <ul class="text-xs text-gray-700 space-y-0.5 mt-1.5"><li class="flex gap-2"><span class="text-purple-600">•</span> <span><strong>text</strong> - Protocol names, techniques</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span><strong>number</strong> - TR, TE, flip angles, slice thickness</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span><strong>datetime</strong> - Acquisition time</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span><strong>boolean</strong> - Quality flags, compliance</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span><strong>select</strong> - Reconstruction methods, anatomy</span></li> <li class="flex gap-2"><span class="text-purple-600">•</span> <span><strong>textarea</strong> - Comments, notes</span></li></ul></div> <div class="bg-white rounded p-3 border border-gray-200"><h4 class="text-xs font-semibold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-lightbulb text-yellow-500"></i> Quick Tips</h4> <ul class="text-xs text-gray-700 space-y-1"><li class="flex gap-2"><span class="text-purple-600">→</span> <span>Use descriptive series names matching DICOM protocols</span></li> <li class="flex gap-2"><span class="text-purple-600">→</span> <span>DCM Identifier must match DICOM SeriesDescription</span></li> <li class="flex gap-2"><span class="text-purple-600">→</span> <span>Document all custom fields for data validation</span></li> <li class="flex gap-2"><span class="text-purple-600">→</span> <span>Test DCM matching with sample DICOM files</span></li></ul></div></div></div></div> <!> <!>',1);function fe(s,b){e(b,!1);let m=p([{id:"mri",name:"MRI",description:"Expected type of scan: CT",expectedType:"CT",fieldCount:1,fields:[{type:"datetime",name:"dateAndTime",apiIdentifier:"datetime"}]},{id:"ct",name:"CT",description:"Expected type of scan: CT",expectedType:"CT",fieldCount:2,fields:[{type:"number",name:"number",apiIdentifier:"number"},{type:"text",name:"text",apiIdentifier:"text"}]}]),k=p(!1),G=p(!1),D=p(!1),N=null,P=p(""),R=p({title:"",apiIdentifier:"",scanType:"Angiography",seriesList:""}),j=p(!1),F=p(!1),q=null,U=null,L=p({type:"",name:"",apiIdentifier:""});const O=["Angiography","CT","MRI","Ultrasound","X-Ray","PET"],_=["text","number","datetime","boolean","select","textarea"];function W(){h(G,!1),h(R,{title:"",apiIdentifier:"",scanType:"Angiography",seriesList:""})}function $(){if(c(R).title.trim()&&c(R).apiIdentifier.trim()){if(c(D)&&N){const e=c(m).findIndex(e=>e.id===N);-1!==e&&(x(m,c(m)[e]={...c(m)[e],name:c(R).title,description:c(R).apiIdentifier,expectedType:c(R).scanType}),h(m,c(m)),h(P,"Group updated successfully!"))}else{const e={id:Date.now().toString(),name:c(R).title,description:c(R).apiIdentifier,expectedType:c(R).scanType,fieldCount:0,fields:[]};h(m,[...c(m),e]),h(P,"Group added successfully!")}W(),setTimeout(()=>{h(P,"")},3e3)}else alert("Please fill in all required fields")}function z(){h(j,!1),h(L,{type:"text",name:"",apiIdentifier:""}),q=null,U=null}function V(){if(!c(L).type.trim()||!c(L).name.trim()||!c(L).apiIdentifier.trim())return void alert("Please fill in all required fields");const e=c(m).findIndex(e=>e.id===q);-1!==e&&(c(F)&&null!==U?(x(m,c(m)[e].fields[U]={...c(L)}),h(P,"Field updated successfully!")):(x(m,c(m)[e].fields=[...c(m)[e].fields,{...c(L)}]),x(m,c(m)[e].fieldCount=c(m)[e].fields.length),h(P,"Field added successfully!")),h(m,c(m)),z(),setTimeout(()=>{h(P,"")},3e3))}t();var B=be(),Q=w(B),Y=e=>{var t=re(),s=i(a(t));n(t),u(()=>I(s,` ${c(P)??""}`)),v(e,t)};d(Q,e=>{c(P)&&e(Y)});var H=i(Q,2),J=a(H),K=a(J),X=i(a(K),2),Z=a(X),ee=i(a(Z),2),te=a(ee);n(ee),n(Z);var se=i(Z,2);n(X),n(K);var ae=i(K,2),ie=a(ae),le=e=>{var t=ne();v(e,t)},fe=e=>{var t=A(),s=w(t);E(s,1,()=>c(m),e=>e.id,(e,t)=>{var s=ce(),l=a(s),o=a(l),p=a(o),g=a(p,!0);n(p);var b=i(p,2),y=a(b,!0);n(b),n(o);var k=i(o,2),C=a(k),S=i(C,2);n(k),n(l);var M=i(l,2),O=a(M),_=i(a(O));n(O);var W=i(O,2),$=i(a(W)),z=a($,!0);n($),n(W),n(M);var V=i(M,2),B=a(V),Q=i(a(B),2);r(2),n(B);var Y=i(B,2),H=a(Y),J=i(a(H)),K=a(J),X=e=>{var t=oe();v(e,t)},Z=e=>{var s=A(),l=w(s);E(l,1,()=>c(t).fields,T,(e,s,l)=>{var r=de(),o=a(r),d=a(o,!0);n(o);var p=i(o),g=a(p,!0);n(p);var b=i(p),y=a(b,!0);n(b);var w=i(b),E=a(w),k=a(E),C=i(k,2);n(E),n(w),n(r),u(()=>{I(d,c(s).type),I(g,c(s).name),I(y,c(s).apiIdentifier)}),f("click",k,()=>function(e,t){h(j,!0),h(F,!0),q=e,U=t;const s=c(m).find(t=>t.id===e);s&&s.fields[t]&&h(L,{...s.fields[t]})}(c(t).id,l)),f("click",C,()=>function(e,t){if(confirm("Are you sure you want to delete this field?")){const s=c(m).findIndex(t=>t.id===e);-1!==s&&(x(m,c(m)[s].fields=c(m)[s].fields.filter((e,s)=>s!==t)),x(m,c(m)[s].fieldCount=c(m)[s].fields.length),h(m,c(m)),h(P,"Field deleted successfully!"),setTimeout(()=>{h(P,"")},3e3))}}(c(t).id,l)),v(e,r)}),v(e,s)};d(K,e=>{0===c(t).fields.length?e(X):e(Z,!1)}),n(J),n(H),n(Y),n(V),n(s),u(()=>{I(g,c(t).name),I(y,c(t).description),I(_,` ${c(t).description??""}`),I(z,c(t).fieldCount)}),f("click",C,()=>function(e){h(G,!0),h(D,!0),N=e.id,h(R,{title:e.name,apiIdentifier:e.description,scanType:e.expectedType,seriesList:""})}(c(t))),f("click",S,()=>{return e=c(t).id,void(confirm("Are you sure you want to delete this group?")&&(h(m,c(m).filter(t=>t.id!==e)),h(P,"Group deleted successfully!"),setTimeout(()=>{h(P,"")},3e3)));var e}),f("click",Q,()=>{return e=c(t).id,h(j,!0),h(F,!1),q=e,U=null,void h(L,{type:"text",name:"",apiIdentifier:""});var e}),v(e,s)}),v(e,t)};d(ie,e=>{0===c(m).length?e(le):e(fe,!1)}),n(ae),n(J),r(2),n(H);var me=i(H,2),ve=e=>{var t=ue(),s=a(t),d=a(s),p=a(d,!0);n(d);var b=i(d,2),m=a(b),y=i(a(m),2);l(y),r(2),n(m);var h=i(m,2),w=i(a(h),2);l(w),r(2),n(h);var k=i(h,2),C=i(a(k),2);u(()=>{c(R),S(()=>{})}),E(C,5,()=>O,T,(e,t)=>{var s=pe(),i=a(s,!0);n(s);var l={};u(()=>{I(i,c(t)),l!==(l=c(t))&&(s.value=(s.__value=c(t))??"")}),v(e,s)}),n(C),n(k);var A=i(k,2),G=i(a(A),2);o(G),n(A),n(b);var N=i(b,2),P=a(N),j=i(P,2);n(N),n(s),n(t),u(()=>I(p,c(D)?"Edit Group":"Add New Group")),g(y,()=>c(R).title,e=>x(R,c(R).title=e)),g(w,()=>c(R).apiIdentifier,e=>x(R,c(R).apiIdentifier=e)),M(C,()=>c(R).scanType,e=>x(R,c(R).scanType=e)),g(G,()=>c(R).seriesList,e=>x(R,c(R).seriesList=e)),f("click",P,W),f("click",j,$),v(e,t)};d(me,e=>{c(G)&&e(ve)});var ye=i(me,2),he=e=>{var t=xe(),s=a(t),r=a(s),o=a(r,!0);n(r);var d=i(r,2),p=a(d),b=i(a(p),2);u(()=>{c(L),S(()=>{})}),E(b,5,()=>_,T,(e,t)=>{var s=ge(),i=a(s,!0);n(s);var l={};u(()=>{I(i,c(t)),l!==(l=c(t))&&(s.value=(s.__value=c(t))??"")}),v(e,s)}),n(b),n(p);var m=i(p,2),y=i(a(m),2);l(y),n(m);var h=i(m,2),w=i(a(h),2);l(w),n(h),n(d);var k=i(d,2),C=a(k),A=i(C,2);n(k),n(s),n(t),u(()=>I(o,c(F)?"Edit Field":"Add New Field")),M(b,()=>c(L).type,e=>x(L,c(L).type=e)),g(y,()=>c(L).name,e=>x(L,c(L).name=e)),g(w,()=>c(L).apiIdentifier,e=>x(L,c(L).apiIdentifier=e)),f("click",C,z),f("click",A,V),v(e,t)};d(ye,e=>{c(j)&&e(he)}),u(()=>{C(ee,1,"relative inline-flex h-5 w-9 items-center rounded-full transition-colors "+(c(k)?"bg-blue-500":"bg-gray-300")),C(te,1,"inline-block h-3 w-3 transform rounded-full bg-white transition-transform "+(c(k)?"translate-x-5":"translate-x-1"))}),f("click",ee,()=>h(k,!c(k))),f("click",se,function(){h(G,!0),h(D,!1),N=null,h(R,{title:"",apiIdentifier:"",scanType:"Angiography",seriesList:""})}),v(s,B),y()}var me=s('<div class="mb-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm flex items-center gap-2"><i class="fas fa-check-circle"></i> </div>'),ve=s('<div class="text-center py-8 text-gray-500"><i class="fas fa-inbox text-3xl mb-2 block"></i> <p class="text-sm">No groups added yet. Click "ADD GROUPS" to create one.</p></div>'),ye=s('<tr><td colspan="4" class="px-3 py-3 text-center text-gray-500 text-xs">No fields added yet</td></tr>'),he=s('<tr class="border-t border-gray-200 hover:bg-white transition-colors"><td class="px-3 py-2 text-gray-700"> </td><td class="px-3 py-2 text-gray-700"> </td><td class="px-3 py-2 text-blue-600"> </td><td class="px-3 py-2"><div class="flex gap-1"><button class="p-0.5 text-gray-400 hover:text-blue-600 transition-colors" title="Edit"><i class="fas fa-pen-square text-xs"></i></button> <button class="p-0.5 text-gray-400 hover:text-red-600 transition-colors" title="Delete"><i class="fas fa-trash text-xs"></i></button></div></td></tr>'),we=s('<div class="bg-gray-50 rounded p-4 border border-gray-200"><div class="flex items-center justify-between mb-3"><div class="flex-1"><h3 class="text-sm font-bold text-gray-800"> </h3> <p class="text-xs text-gray-600"> </p></div> <div class="flex items-center gap-2 ml-3"><button class="p-1 text-gray-400 hover:text-blue-600 transition-colors text-sm" title="Edit"><i class="fas fa-pen-square"></i></button> <button class="p-1 text-gray-400 hover:text-red-600 transition-colors text-sm" title="Delete"><i class="fas fa-trash"></i></button></div></div> <div class="text-xs text-gray-600 mb-2 flex justify-between"><span><strong>Series type:</strong> </span> <span>Total fields: <strong> </strong></span></div> <div><div class="flex items-center gap-2 mb-2"><h4 class="text-xs font-semibold text-gray-700">Fields</h4> <button class="p-0.5 text-gray-400 hover:text-blue-600 text-xs" title="Add Field"><i class="fas fa-plus"></i></button> <button class="p-0.5 text-gray-400 hover:text-gray-600 text-xs"><i class="fas fa-search"></i></button></div> <div class="overflow-x-auto"><table class="w-full text-xs"><thead><tr class="bg-gray-100"><th class="px-3 py-1.5 text-left font-semibold text-gray-700">TYPE</th><th class="px-3 py-1.5 text-left font-semibold text-gray-700">NAME</th><th class="px-3 py-1.5 text-left font-semibold text-gray-700">API IDENTIFIER</th><th class="px-3 py-1.5 text-left font-semibold text-gray-700">ACTION</th></tr></thead><tbody><!></tbody></table></div></div></div>'),Ie=s('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 p-6"><h2 class="text-lg font-bold text-gray-800 mb-4"> </h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Title</label> <input type="text" placeholder="Enter title" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/> <p class="text-xs text-gray-500 mt-1">It will appear in the entry editor</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">API Level Identifier</label> <input type="text" placeholder="Enter api level identifier" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/> <p class="text-xs text-gray-500 mt-1">Database level identifier</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Group Description</label> <textarea placeholder="Enter small description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"></textarea> <p class="text-xs text-gray-500 mt-1">It is generated automatically based on the name and will appear in the API responses</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-3">Is this a Multiple-Event Group?</label> <div class="flex items-center gap-6"><div class="flex items-center"><input type="radio" id="multiYes" name="multipleEventGroup" class="w-4 h-4 text-blue-600"/> <label for="multiYes" class="ml-2 text-sm text-gray-700">Yes</label></div> <div class="flex items-center"><input type="radio" id="multiNo" name="multipleEventGroup" class="w-4 h-4 text-gray-600"/> <label for="multiNo" class="ml-2 text-sm text-gray-700">No</label></div></div></div></div> <div class="mt-6 flex gap-3 justify-end"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium text-sm transition-colors">CANCEL</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors">SAVE</button></div></div></div>'),Ee=s("<option> </option>"),ke=s('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 p-6"><h2 class="text-lg font-bold text-gray-800 mb-4"> </h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Name</label> <input type="text" placeholder="Enter field name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">API Level Identifier</label> <input type="text" placeholder="Enter api level identifier" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"/></div></div> <div class="mt-6 flex gap-3 justify-end"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium text-sm transition-colors">CANCEL</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors">SAVE</button></div></div></div>'),Ce=s('<!> <div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-4"><div class="flex items-center justify-between"><h2 class="text-xl font-bold text-gray-800">Clinical Groups</h2> <div class="flex items-center gap-3"><div class="flex items-center gap-2"><span class="text-xs text-gray-600">PREVIEW</span> <button><span></span></button></div> <button class="text-blue-600 text-sm font-semibold hover:text-blue-700">ADD GROUPS</button></div></div> <div class="space-y-3"><!></div></div> <div class="lg:col-span-1"><div class="bg-blue-50 rounded-lg p-5 border border-blue-200 sticky top-4 space-y-6"><div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-info-circle text-blue-600"></i> What are Clinical Groups?</h3> <p class="text-xs text-gray-700 leading-relaxed">Clinical Groups (also called Forms) are structured containers that organize related data collection fields for clinical studies. They group related information together, such as MRI scan data, patient demographics, or lab results.</p></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-question-circle text-blue-600"></i> Why Do We Need Clinical Groups?</h3> <ul class="text-xs text-gray-700 space-y-1.5 leading-relaxed"><li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Organization:</strong> Keep related data fields organized and logically grouped</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Scalability:</strong> Manage large forms with multiple sections efficiently</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>API Structure:</strong> Define how data is structured in API responses</span></li> <li class="flex gap-2"><span class="text-blue-600 font-semibold">•</span> <span><strong>Reusability:</strong> Reuse groups across multiple studies and events</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-key text-blue-600"></i> API Identifier (Must be Unique)</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">A unique identifier used in API calls and database storage. Each clinical group must have a distinct API identifier.</p> <div class="bg-white border border-gray-300 rounded p-2.5 text-xs"><p class="text-gray-600 mb-1"><strong>Example:</strong></p> <p class="font-mono text-gray-700 text-xs">mri_form_001</p> <p class="text-gray-600 text-xs mt-2 leading-relaxed">✓ Use lowercase letters, numbers, and underscores<br/> ✓ No spaces or special characters<br/> ✓ Must be unique across all groups</p></div></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-list text-blue-600"></i> What are Fields?</h3> <p class="text-xs text-gray-700 leading-relaxed mb-2">Fields are individual data collection elements within a clinical group. Each field captures specific information with a defined data type.</p> <p class="text-xs text-gray-700 leading-relaxed"><strong>Supported Field Types:</strong></p> <ul class="text-xs text-gray-700 space-y-0.5 mt-1.5"><li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>text</strong> - Short text input</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>number</strong> - Numeric values</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>datetime</strong> - Date and time selection</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>boolean</strong> - Yes/No or true/false</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>select</strong> - Dropdown selection</span></li> <li class="flex gap-2"><span class="text-blue-600">•</span> <span><strong>textarea</strong> - Multi-line text</span></li></ul></div> <div><h3 class="text-sm font-bold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-repeat text-blue-600"></i> Multiple-Event Groups</h3> <p class="text-xs text-gray-700 leading-relaxed">When enabled, this group can be repeated multiple times during a single study event. Useful for collecting the same set of data multiple times (e.g., multiple MRI scans).</p></div> <div class="bg-white rounded p-3 border border-gray-200"><h4 class="text-xs font-semibold text-gray-800 mb-2 flex items-center gap-2"><i class="fas fa-lightbulb text-yellow-500"></i> Quick Tips</h4> <ul class="text-xs text-gray-700 space-y-1"><li class="flex gap-2"><span class="text-blue-600">→</span> <span>Give clear, descriptive names to groups</span></li> <li class="flex gap-2"><span class="text-blue-600">→</span> <span>Use consistent naming patterns for API identifiers</span></li> <li class="flex gap-2"><span class="text-blue-600">→</span> <span>Add meaningful descriptions for documentation</span></li> <li class="flex gap-2"><span class="text-blue-600">→</span> <span>Test API identifiers before finalizing</span></li></ul></div></div></div></div> <!> <!>',1);function Ae(s,b){e(b,!1);const m=[];let k=p([{id:"mri",name:"MRI",apiIdentifier:"mri_form",description:"MRI scanning form group",isMultipleEventGroup:!1,fieldCount:1,fields:[{type:"datetime",name:"dateAndTime",apiIdentifier:"datetime"}]},{id:"ct",name:"CT",apiIdentifier:"ct_form",description:"CT scanning form group",isMultipleEventGroup:!0,fieldCount:2,fields:[{type:"number",name:"number",apiIdentifier:"number"},{type:"text",name:"text",apiIdentifier:"text"}]}]),D=p(!1),N=p(!1),P=p(!1),R=null,j=p(""),F=p({title:"",apiIdentifier:"",description:"",isMultipleEventGroup:!1}),q=p(!1),U=p(!1),L=null,O=null,_=p({type:"",name:"",apiIdentifier:""});const W=["text","number","datetime","boolean","select","textarea"];function $(){h(N,!1),h(F,{title:"",apiIdentifier:"",description:"",isMultipleEventGroup:!1})}function z(){if(c(F).title.trim()&&c(F).apiIdentifier.trim()){if(c(P)&&R){const e=c(k).findIndex(e=>e.id===R);-1!==e&&(x(k,c(k)[e]={...c(k)[e],name:c(F).title,apiIdentifier:c(F).apiIdentifier,description:c(F).description,isMultipleEventGroup:c(F).isMultipleEventGroup}),h(k,c(k)),h(j,"Group updated successfully!"))}else{const e={id:Date.now().toString(),name:c(F).title,apiIdentifier:c(F).apiIdentifier,description:c(F).description,isMultipleEventGroup:c(F).isMultipleEventGroup,fieldCount:0,fields:[]};h(k,[...c(k),e]),h(j,"Group added successfully!")}$(),setTimeout(()=>{h(j,"")},3e3)}else alert("Please fill in all required fields")}function V(){h(q,!1),h(_,{type:"text",name:"",apiIdentifier:""}),L=null,O=null}function B(){if(!c(_).type.trim()||!c(_).name.trim()||!c(_).apiIdentifier.trim())return void alert("Please fill in all required fields");const e=c(k).findIndex(e=>e.id===L);-1!==e&&(c(U)&&null!==O?(x(k,c(k)[e].fields[O]={...c(_)}),h(j,"Field updated successfully!")):(x(k,c(k)[e].fields=[...c(k)[e].fields,{...c(_)}]),x(k,c(k)[e].fieldCount=c(k)[e].fields.length),h(j,"Field added successfully!")),h(k,c(k)),V(),setTimeout(()=>{h(j,"")},3e3))}t();var Q=Ce(),Y=w(Q),H=e=>{var t=me(),s=i(a(t));n(t),u(()=>I(s,` ${c(j)??""}`)),v(e,t)};d(Y,e=>{c(j)&&e(H)});var J=i(Y,2),K=a(J),X=a(K),Z=i(a(X),2),ee=a(Z),te=i(a(ee),2),se=a(te);n(te),n(ee);var ae=i(ee,2);n(Z),n(X);var ie=i(X,2),le=a(ie),re=e=>{var t=ve();v(e,t)},ne=e=>{var t=A(),s=w(t);E(s,1,()=>c(k),e=>e.id,(e,t)=>{var s=we(),l=a(s),o=a(l),p=a(o),g=a(p,!0);n(p);var b=i(p,2),m=a(b,!0);n(b),n(o);var y=i(o,2),C=a(y),S=i(C,2);n(y),n(l);var M=i(l,2),G=a(M),D=i(a(G));n(G);var W=i(G,2),$=i(a(W)),z=a($,!0);n($),n(W),n(M);var V=i(M,2),B=a(V),Q=i(a(B),2);r(2),n(B);var Y=i(B,2),H=a(Y),J=i(a(H)),K=a(J),X=e=>{var t=ye();v(e,t)},Z=e=>{var s=A(),l=w(s);E(l,1,()=>c(t).fields,T,(e,s,l)=>{var r=he(),o=a(r),d=a(o,!0);n(o);var p=i(o),g=a(p,!0);n(p);var b=i(p),m=a(b,!0);n(b);var y=i(b),w=a(y),E=a(w),C=i(E,2);n(w),n(y),n(r),u(()=>{I(d,c(s).type),I(g,c(s).name),I(m,c(s).apiIdentifier)}),f("click",E,()=>function(e,t){h(q,!0),h(U,!0),L=e,O=t;const s=c(k).find(t=>t.id===e);s&&s.fields[t]&&h(_,{...s.fields[t]})}(c(t).id,l)),f("click",C,()=>function(e,t){if(confirm("Are you sure you want to delete this field?")){const s=c(k).findIndex(t=>t.id===e);-1!==s&&(x(k,c(k)[s].fields=c(k)[s].fields.filter((e,s)=>s!==t)),x(k,c(k)[s].fieldCount=c(k)[s].fields.length),h(k,c(k)),h(j,"Field deleted successfully!"),setTimeout(()=>{h(j,"")},3e3))}}(c(t).id,l)),v(e,r)}),v(e,s)};d(K,e=>{0===c(t).fields.length?e(X):e(Z,!1)}),n(J),n(H),n(Y),n(V),n(s),u(()=>{I(g,c(t).name),I(m,c(t).description),I(D,` ${c(t).description??""}`),I(z,c(t).fieldCount)}),f("click",C,()=>function(e){h(N,!0),h(P,!0),R=e.id,h(F,{title:e.name,apiIdentifier:e.apiIdentifier,description:e.description,isMultipleEventGroup:e.isMultipleEventGroup})}(c(t))),f("click",S,()=>{return e=c(t).id,void(confirm("Are you sure you want to delete this group?")&&(h(k,c(k).filter(t=>t.id!==e)),h(j,"Group deleted successfully!"),setTimeout(()=>{h(j,"")},3e3)));var e}),f("click",Q,()=>{return e=c(t).id,h(q,!0),h(U,!1),L=e,O=null,void h(_,{type:"text",name:"",apiIdentifier:""});var e}),v(e,s)}),v(e,t)};d(le,e=>{0===c(k).length?e(re):e(ne,!1)}),n(ie),n(K),r(2),n(J);var oe=i(J,2),de=e=>{var t=Ie(),s=a(t),d=a(s),p=a(d,!0);n(d);var b=i(d,2),y=a(b),h=i(a(y),2);l(h),r(2),n(y);var w=i(y,2),E=i(a(w),2);l(E),r(2),n(w);var k=i(w,2),C=i(a(k),2);o(C),r(2),n(k);var A=i(k,2),T=i(a(A),2),S=a(T),M=a(S);l(M),M.value=M.__value=!0,r(2),n(S);var D=i(S,2),N=a(D);l(N),N.value=N.__value=!1,r(2),n(D),n(T),n(A),n(b);var R=i(b,2),j=a(R),q=i(j,2);n(R),n(s),n(t),u(()=>I(p,c(P)?"Edit Group":"Add New Group")),g(h,()=>c(F).title,e=>x(F,c(F).title=e)),g(E,()=>c(F).apiIdentifier,e=>x(F,c(F).apiIdentifier=e)),g(C,()=>c(F).description,e=>x(F,c(F).description=e)),G(m,[],M,()=>c(F).isMultipleEventGroup,e=>x(F,c(F).isMultipleEventGroup=e)),G(m,[],N,()=>c(F).isMultipleEventGroup,e=>x(F,c(F).isMultipleEventGroup=e)),f("click",j,$),f("click",q,z),v(e,t)};d(oe,e=>{c(N)&&e(de)});var ce=i(oe,2),pe=e=>{var t=ke(),s=a(t),r=a(s),o=a(r,!0);n(r);var d=i(r,2),p=a(d),b=i(a(p),2);u(()=>{c(_),S(()=>{})}),E(b,5,()=>W,T,(e,t)=>{var s=Ee(),i=a(s,!0);n(s);var l={};u(()=>{I(i,c(t)),l!==(l=c(t))&&(s.value=(s.__value=c(t))??"")}),v(e,s)}),n(b),n(p);var m=i(p,2),y=i(a(m),2);l(y),n(m);var h=i(m,2),w=i(a(h),2);l(w),n(h),n(d);var k=i(d,2),C=a(k),A=i(C,2);n(k),n(s),n(t),u(()=>I(o,c(U)?"Edit Field":"Add New Field")),M(b,()=>c(_).type,e=>x(_,c(_).type=e)),g(y,()=>c(_).name,e=>x(_,c(_).name=e)),g(w,()=>c(_).apiIdentifier,e=>x(_,c(_).apiIdentifier=e)),f("click",C,V),f("click",A,B),v(e,t)};d(ce,e=>{c(q)&&e(pe)}),u(()=>{C(te,1,"relative inline-flex h-5 w-9 items-center rounded-full transition-colors "+(c(D)?"bg-blue-500":"bg-gray-300")),C(se,1,"inline-block h-3 w-3 transform rounded-full bg-white transition-transform "+(c(D)?"translate-x-5":"translate-x-1"))}),f("click",te,()=>h(D,!c(D))),f("click",ae,function(){h(N,!0),h(P,!1),R=null,h(F,{title:"",apiIdentifier:"",description:"",isMultipleEventGroup:!1})}),v(s,Q),y()}var Te=s('<th class="text-center py-3 px-4 font-semibold text-[#0b3a7a]"><span> </span></th>'),Se=s('<td class="py-3 px-4 text-center"><input type="checkbox" class="w-5 h-5 cursor-pointer accent-blue-600"/></td>'),Me=s('<tr class="border-b border-gray-100 hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-700 flex items-center gap-2"><span> </span> <i class="fas fa-layer-group text-xs text-gray-500" title="Multi Event group"></i> <i class="fas fa-hospital text-xs text-gray-500" title="Modality group"></i></td><!></tr>'),Ge=s('<div class="w-full"><div class="bg-white rounded-lg"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-bold text-[#0b3a7a] flex items-center gap-2"><i class="fas fa-sliders-h"></i> Event Matrix</h3> <p></p></div> <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"><div class="space-y-3"><div><h4 class="font-semibold text-gray-900 text-sm mb-1">What is an Event Matrix?</h4> <p class="text-gray-700 text-sm">An Event Matrix is a table used in clinical trials to define which forms (CRFs/eCRFs) are collected at which visits, under what conditions. It maps study events to clinical form groups and data collection modalities.</p></div> <div><h4 class="font-semibold text-gray-900 text-sm mb-1">Purpose in Clinical Trials</h4> <ul class="text-gray-700 text-sm list-disc list-inside space-y-1"><li>Defines data collection schedule and requirements</li> <li>Ensures consistency across all study sites</li> <li>Specifies which CRFs/eCRFs are required at each visit</li> <li>Documents conditional data collection rules</li> <li>Manages repeatable visits and grouped events</li></ul></div> <div><h4 class="font-semibold text-gray-900 text-sm mb-1">How to Assign and Use</h4> <ol class="text-gray-700 text-sm list-decimal list-inside space-y-1"><li>Check the boxes to assign forms to visits/events</li> <li>Use "Multi Event group" to create grouped event structures</li> <li>Use "Modality group" to define data collection methods (paper, electronic, etc.)</li> <li>Configure conditions for conditional data collection</li> <li>Set up repeatable groups for visits that repeat multiple times</li></ol></div></div></div> <div class="flex items-center justify-between mb-4"><button class="text-blue-600 text-sm font-semibold hover:text-blue-700">Deselect all</button></div> <div class="overflow-x-auto"><table class="w-full text-sm"><thead><tr class="border-b-2 border-gray-300 bg-gray-50"><th class="text-left py-3 px-4 font-semibold text-gray-700">GROUP</th><!></tr></thead><tbody></tbody></table></div> <div class="flex items-center justify-between gap-3 mt-8 pt-6 border-t border-gray-200"><div class="flex items-center gap-4"><button class="flex items-center gap-2 text-gray-700 text-sm hover:text-gray-900 font-medium" title="Multi Event group configuration"><i class="fas fa-layer-group text-sm"></i> <span>Multi Event group</span></button> <button class="flex items-center gap-2 text-gray-700 text-sm hover:text-gray-900 font-medium" title="Modality group configuration"><i class="fas fa-hospital text-sm"></i> <span>Modality group</span></button></div> <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded font-semibold text-sm transition-colors"><span>Save</span></button></div></div></div>');function De(s,o){e(o,!1);let d=D(o,"events",24,()=>[]),p=D(o,"clinicalGroups",24,()=>[]),g=D(o,"matrix",28,()=>[]);const x=(e,t)=>g().find(s=>s.eventId===e&&s.groupId===t);t();var b=Ge(),m=a(b),h=i(a(m),4),w=a(h);n(h);var k=i(h,2),C=a(k),A=a(C),T=a(A),S=i(a(T));E(S,1,p,e=>e.id,(e,t)=>{var s=Te(),i=a(s),l=a(i,!0);n(i),n(s),u(e=>I(l,e),[()=>(c(t),N(()=>c(t).name.toUpperCase()))]),v(e,s)}),n(T),n(A);var M=i(A);E(M,5,d,e=>e.id,(e,t)=>{var s=Me(),o=a(s),d=a(o),b=a(d,!0);n(d),r(4),n(o);var m=i(o);E(m,1,p,e=>e.id,(e,s)=>{var i=Se(),r=a(i);l(r),n(i),u(e=>P(r,e),[()=>(c(t),c(s),N(()=>x(c(t).id,c(s).id)?.selected||!1))]),f("change",r,()=>((e,t)=>{const s=x(e,t);s&&(s.selected=!s.selected,g(g()))})(c(t).id,c(s).id)),v(e,i)}),n(s),u(()=>I(b,(c(t),N(()=>c(t).name)))),v(e,s)}),n(M),n(C),n(k),r(2),n(m),n(b),f("click",w,()=>{g(g().map(e=>({...e,selected:!1})))}),v(s,b),y()}var Ne=s('<div class="p-6 bg-red-50 border border-red-200 rounded-lg text-center"><i class="fas fa-info-circle text-red-500 text-2xl mb-2 block"></i> <p class="text-gray-700 font-medium mb-1">No Event-Group Relations Found</p> <p class="text-gray-600 text-sm">Please configure event-group relations in the Event Matrix first before setting up conditions.</p></div>'),Pe=s('<p class="text-gray-500 text-sm italic">No rules configured</p>'),Re=s("<option> </option>"),je=s('<div class="flex items-center gap-2 text-sm"><span class="font-semibold text-gray-600 w-12"> </span> <select class="px-2 py-1 border border-gray-300 rounded text-xs bg-white flex-1"><option>Choose Event</option><!></select> <select class="px-2 py-1 border border-gray-300 rounded text-xs bg-white flex-1 text-gray-400"><option>Choose Form</option></select> <select class="px-2 py-1 border border-gray-300 rounded text-xs bg-white flex-1 text-gray-400"><option>Choose Field</option></select> <select class="px-2 py-1 border border-gray-300 rounded text-xs bg-white"><option>=</option><option>!=</option><option>&gt;</option><option>&lt;</option></select> <input type="text" placeholder="Value" class="px-2 py-1 border border-gray-300 rounded text-xs bg-white flex-1"/> <button class="text-red-500 hover:text-red-700 p-1" title="Delete rule"><i class="fas fa-trash text-xs"></i></button></div>'),Fe=s('<div class="space-y-2"></div>'),qe=s('<div class="space-y-1"><div class="flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded hover:bg-blue-50 transition-colors"><i class="fas fa-folder text-blue-500"></i> <span class="font-medium text-gray-800 flex-1"> </span> <span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded"> </span></div> <div class="ml-6 space-y-2"><div class="bg-white p-3 border border-gray-200 rounded"><div class="flex items-center gap-2 mb-3"><span class="text-sm font-semibold text-gray-700">this group when</span> <select class="px-2 py-1 border border-gray-300 rounded text-sm bg-white"><option>Any</option><option>All</option></select> <span class="text-sm text-gray-700">of following rules match</span> <button class="text-blue-600 text-xs font-semibold hover:text-blue-700 ml-auto flex items-center gap-1"><i class="fas fa-plus"></i> ADD NEW IF</button></div> <!></div></div></div>'),Ue=s('<div class="ml-6 space-y-1"></div>'),Le=s('<div class="space-y-1"><button class="w-full flex items-center gap-3 px-3 py-2 bg-white border border-gray-200 rounded hover:bg-gray-50 transition-colors text-left"><i></i> <i class="fas fa-calendar text-gray-500"></i> <span class="font-semibold text-gray-800"> </span></button> <!></div>'),Oe=s('<div class="space-y-2 max-h-[500px] overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50"></div> <div class="flex items-center justify-end gap-3 mt-6 pt-4 border-t border-gray-200"><button class="px-6 py-2 bg-[#0b3a7a] text-white rounded font-semibold hover:bg-[#0a2f65] transition-colors">SAVE</button></div>',1),_e=s('<div class="bg-white rounded-lg"><div class="mb-4"><h3 class="text-lg font-bold text-[#0b3a7a] flex items-center gap-2"><i class="fas fa-sliders-h"></i> Event Group Conditions</h3></div> <div class="mb-6 p-4 bg-purple-50 border border-purple-200 rounded-lg"><div class="space-y-3"><div><h4 class="font-semibold text-gray-900 text-sm mb-1">What are Event Group Conditions?</h4> <p class="text-gray-700 text-sm">Event Group Conditions define the logic and rules for when specific forms or data collection groups should be collected during study events. They control conditional data capture based on patient responses or study parameters.</p></div> <div><h4 class="font-semibold text-gray-900 text-sm mb-1">How to Create Conditions</h4> <ol class="text-gray-700 text-sm list-decimal list-inside space-y-1"><li>Expand an Event to view its Groups</li> <li>Expand a Group to view or add Condition Rules</li> <li>Choose "Any" or "All" to determine rule matching logic</li> <li>Add IF rules by specifying Event, Form, Field, Operator, and Value</li> <li>Click SAVE to apply the conditions</li></ol></div></div></div> <!></div>');function We(s,l){e(l,!1);const r=p(),o=p();let g=D(l,"events",24,()=>[]);D(l,"clinicalGroups",24,()=>[]);let x=D(l,"matrix",24,()=>[]),b=p([{id:"screening",eventName:"Screening",expanded:!0,groupConditions:[{id:"gc1",groupId:"demographics",groupName:"Demographics",logicOperator:"any",rules:[{id:"r1",event:"screening",form:"Demographics Form",field:"Age",operator:"=",value:"18+"}]},{id:"gc2",groupId:"medicalhistory",groupName:"Medical History",logicOperator:"all",rules:[]}]},{id:"baseline",eventName:"Baseline",expanded:!1,groupConditions:[{id:"gc3",groupId:"vitals",groupName:"Vitals",logicOperator:"any",rules:[]}]}]);const m=()=>{console.log("Conditions saved:",c(b))};R(()=>j(x()),()=>{h(r,x().some(e=>e.selected))}),R(()=>j(x()),()=>{h(o,x().filter(e=>e.selected))}),F(),t();var k=_e(),A=i(a(k),4),T=e=>{var t=Ne();v(e,t)},G=e=>{var t=Oe(),s=w(t);E(s,5,()=>c(b),e=>e.id,(e,t)=>{var s=Le(),l=a(s),r=a(l),o=i(r,4),p=a(o,!0);n(o),n(l);var x=i(l,2),m=e=>{var s=Ue();E(s,5,()=>(c(t),N(()=>c(t).groupConditions)),e=>e.id,(e,s,l)=>{var r=qe(),o=a(r),p=i(a(o),2),x=a(p,!0);n(p);var m=i(p,2),y=a(m);n(m),n(o);var w=i(o,2),k=a(w),C=a(k),A=i(a(C),2);u(()=>{c(s),S(()=>{})});var T=a(A);T.value=T.__value="any";var G=i(T);G.value=G.__value="all",n(A);var D=i(A,4);n(C);var P=i(C,2),R=e=>{var t=Pe();v(e,t)},j=e=>{var l=Fe();E(l,7,()=>(c(s),N(()=>c(s).rules)),e=>e.id,(e,l,r)=>{var o=je(),d=a(o),p=a(d,!0);n(d);var x=i(d,2),m=i(a(x));E(m,1,g,e=>e.id,(e,t)=>{var s=Re(),i=a(s,!0);n(s);var l={};u(()=>{I(i,(c(t),N(()=>c(t).name))),l!==(c(t),l=N(()=>c(t).id))&&(s.value=(s.__value=(c(t),N(()=>c(t).id)))??"")}),v(e,s)}),n(x);var y=i(x,10);n(o),u(()=>I(p,0===c(r)?"IF":"------")),f("click",y,()=>((e,t,s)=>{const a=c(b).find(t=>t.id===e);if(a){const e=a.groupConditions.find(e=>e.id===t);e&&(e.rules=e.rules.filter(e=>e.id!==s),h(b,c(b)))}})(c(t).id,c(s).id,c(l).id)),v(e,o)}),n(l),v(e,l)};d(P,e=>{c(s),N(()=>0===c(s).rules.length)?e(R):e(j,!1)}),n(k),n(w),n(r),u(()=>{I(x,(c(s),N(()=>c(s).groupName))),I(y,`${c(s),N(()=>c(s).rules.length)??""} rules`)}),M(A,()=>c(s).logicOperator,e=>(c(s).logicOperator=e,S(()=>(c(t),c(b))))),f("click",D,()=>((e,t)=>{const s=c(b).find(t=>t.id===e);if(s){const e=s.groupConditions.find(e=>e.id===t);e&&(e.rules=[...e.rules,{id:Date.now().toString(),event:"",form:"",field:"",operator:"=",value:""}],h(b,c(b)))}})(c(t).id,c(s).id)),v(e,r)}),n(s),v(e,s)};d(x,e=>{c(t),N(()=>c(t).expanded)&&e(m)}),n(s),u(()=>{C(r,1,(c(t),N(()=>"fas fa-chevron-right transition-transform "+(c(t).expanded?"rotate-90":"")))),I(p,(c(t),N(()=>c(t).eventName)))}),f("click",l,()=>(e=>{const t=c(b).find(t=>t.id===e);t&&(t.expanded=!t.expanded,h(b,c(b)))})(c(t).id)),v(e,s)}),n(s);var l=i(s,2),r=a(l);n(l),f("click",r,m),v(e,t)};d(A,e=>{c(r)?e(G,!1):e(T)}),n(k),v(s,k),y()}var $e=s('<div class="ml-6"><label class="block text-xs font-medium text-gray-600 mb-1">Repeatable Group Name</label> <input type="text" placeholder="e.g. [visit_date], [weight] kg" class="w-full px-3 py-2 border border-gray-300 rounded text-sm bg-white text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"/> <p class="text-xs text-gray-500 mt-1">Example: [visit_date], [weight] kg</p></div>'),ze=s('<div class="space-y-2 p-3 bg-white border border-gray-200 rounded"><div class="flex items-center gap-2"><i class="fas fa-folder text-blue-500"></i> <span class="font-medium text-gray-800 flex-1"> </span></div> <div class="flex items-center gap-3 ml-6"><input type="checkbox" class="w-4 h-4 cursor-pointer accent-blue-600"/> <label class="text-sm text-gray-700 font-medium cursor-pointer flex-1">Is Repeatable Group</label></div> <!></div>'),Ve=s('<div class="ml-6 space-y-2"></div>'),Be=s('<div class="space-y-1"><button class="w-full flex items-center gap-3 px-3 py-2 bg-white border border-gray-200 rounded hover:bg-gray-50 transition-colors text-left"><i></i> <i class="fas fa-calendar text-gray-500"></i> <span class="font-semibold text-gray-800"> </span></button> <!></div>'),Qe=s('<div class="bg-white rounded-lg"><div class="mb-6"><h3 class="text-lg font-bold text-[#0b3a7a] flex items-center gap-2"><i class="fas fa-repeat"></i> Manage Repeatable Groups</h3></div> <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg"><div class="space-y-3"><div><h4 class="font-semibold text-gray-900 text-sm mb-1">What are Repeatable Groups?</h4> <p class="text-gray-700 text-sm">An excellent way to collect repeating data is to use repeatable instruments/events. This is sometimes called one-to-many data collection. You can specify a data collection instrument to be infinitely repeatable, which means that an instrument can be repeated over and over again (a different number of times for each record) even without enabling REDCap\'s longitudinal module.</p></div> <div><h4 class="font-semibold text-gray-900 text-sm mb-1">Configuration</h4> <p class="text-gray-700 text-sm">For each group within an event, you can specify whether it is repeatable and provide a custom label for the repeatable group.</p></div></div></div> <div class="space-y-2 max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50"></div> <div class="flex items-center justify-between mt-6 pt-4"><div class="text-gray-600 text-sm font-medium">Saved</div> <button class="px-6 py-2 bg-blue-600 text-white rounded font-semibold hover:bg-blue-700 transition-colors">SAVE</button></div></div>');function Ye(e){let t=p([{id:"screening",eventName:"Screening",expanded:!0,groups:[{id:"g1",name:"Demographics",isRepeatableGroup:!1,repeatableGroupName:""},{id:"g2",name:"Medical History",isRepeatableGroup:!1,repeatableGroupName:""},{id:"g3",name:"Consent",isRepeatableGroup:!0,repeatableGroupName:"Consent Group"}]},{id:"baseline",eventName:"Baseline",expanded:!0,groups:[{id:"g4",name:"Demographics",isRepeatableGroup:!0,repeatableGroupName:"Baseline Demographics"},{id:"g5",name:"Vitals",isRepeatableGroup:!1,repeatableGroupName:""}]},{id:"visit1",eventName:"Visit 1",expanded:!1,groups:[{id:"g6",name:"Follow-up",isRepeatableGroup:!0,repeatableGroupName:"Follow-up Visit"},{id:"g7",name:"Labs",isRepeatableGroup:!1,repeatableGroupName:""}]},{id:"endofstudy",eventName:"End of Study",expanded:!1,groups:[{id:"g8",name:"Final Assessment",isRepeatableGroup:!1,repeatableGroupName:""},{id:"g9",name:"Safety",isRepeatableGroup:!1,repeatableGroupName:""}]}]);var s=Qe(),o=i(a(s),4);E(o,5,()=>c(t),e=>e.id,(e,s)=>{var o=Be(),p=a(o),x=a(p),m=i(x,4),y=a(m,!0);n(m),n(p);var w=i(p,2),A=e=>{var o=Ve();E(o,5,()=>c(s).groups,e=>e.id,(e,o,p)=>{var x=ze(),f=a(x),m=i(a(f),2),y=a(m,!0);n(m),n(f);var h=i(f,2),w=a(h);l(w);var E=i(w,2);n(h);var C=i(h,2),A=e=>{var d=$e(),p=a(d),x=i(p,2);l(x),r(2),n(d),u(()=>{k(p,"for",`name-${c(o).id}`),k(x,"id",`name-${c(o).id}`)}),g(x,()=>c(o).repeatableGroupName,e=>(c(o).repeatableGroupName=e,S(()=>(c(s),c(t))))),v(e,d)};d(C,e=>{c(o).isRepeatableGroup&&e(A)}),n(x),u(()=>{I(y,c(o).name),k(w,"id",`repeatable-${c(o).id}`),k(E,"for",`repeatable-${c(o).id}`)}),b(w,()=>c(o).isRepeatableGroup,e=>(c(o).isRepeatableGroup=e,S(()=>(c(s),c(t))))),v(e,x)}),n(o),v(e,o)};d(w,e=>{c(s).expanded&&e(A)}),n(o),u(()=>{C(x,1,"fas fa-chevron-right transition-transform "+(c(s).expanded?"rotate-90":"")),I(y,c(s).eventName)}),f("click",p,()=>(e=>{const s=c(t).find(t=>t.id===e);s&&(s.expanded=!s.expanded,h(t,c(t)))})(c(s).id)),v(e,o)}),n(o);var x=i(o,2),m=i(a(x),2);n(x),n(s),f("click",m,()=>{console.log("Repeatable groups saved:",c(t))}),v(e,s)}var He=s('<div class="space-y-6"><div class="bg-white rounded-lg shadow"><div class="border-b border-gray-200"><div class="flex gap-4 px-6"><button>Event Planner</button> <button>Event Condition Groups</button> <button>Repeatable Groups</button></div></div> <div class="p-6"><!></div></div></div>');function Je(e){let t=[{id:"screening",name:"Screening"},{id:"baseline",name:"Baseline"},{id:"visit1",name:"Visit 1"},{id:"endofstudy",name:"End of Study"}],s=[{id:"mri",name:"MRI"},{id:"ct",name:"CT"},{id:"demographics",name:"Demographics"}],l=p([{eventId:"screening",groupId:"mri",selected:!0},{eventId:"screening",groupId:"ct",selected:!1},{eventId:"screening",groupId:"demographics",selected:!0},{eventId:"baseline",groupId:"mri",selected:!1},{eventId:"baseline",groupId:"ct",selected:!0},{eventId:"baseline",groupId:"demographics",selected:!0},{eventId:"visit1",groupId:"mri",selected:!0},{eventId:"visit1",groupId:"ct",selected:!1},{eventId:"visit1",groupId:"demographics",selected:!0},{eventId:"endofstudy",groupId:"mri",selected:!0},{eventId:"endofstudy",groupId:"ct",selected:!1},{eventId:"endofstudy",groupId:"demographics",selected:!1}]),r=p("matrix");var o=He(),g=a(o),x=a(g),b=a(x),m=a(b),y=i(m,2),I=i(y,2);n(b),n(x);var E=i(x,2),k=a(E),T=e=>{De(e,{get events(){return t},get clinicalGroups(){return s},get matrix(){return c(l)},set matrix(e){h(l,e)},$$legacy:!0})},S=e=>{var a=A(),i=w(a),n=e=>{We(e,{get events(){return t},get clinicalGroups(){return s},get matrix(){return c(l)}})},o=e=>{var t=A(),s=w(t),a=e=>{Ye(e)};d(s,e=>{"repeatable"===c(r)&&e(a)},!0),v(e,t)};d(i,e=>{"conditions"===c(r)?e(n):e(o,!1)},!0),v(e,a)};d(k,e=>{"matrix"===c(r)?e(T):e(S,!1)}),n(E),n(g),n(o),u(()=>{C(m,1,"px-4 py-3 text-sm font-medium border-b-2 transition "+("matrix"===c(r)?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900")),C(y,1,"px-4 py-3 text-sm font-medium border-b-2 transition "+("conditions"===c(r)?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900")),C(I,1,"px-4 py-3 text-sm font-medium border-b-2 transition "+("repeatable"===c(r)?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"))}),f("click",m,()=>h(r,"matrix")),f("click",y,()=>h(r,"conditions")),f("click",I,()=>h(r,"repeatable")),v(e,o)}var Ke=s("<button><i></i> <span> </span></button>"),Xe=s('<div class="p-8"><div class="mb-8"><h1 class="text-4xl font-bold text-gray-800 mb-2">Project Setup</h1> <p class="text-gray-600">Configure your clinical research project</p></div> <div class="mb-6 bg-white rounded-lg shadow-md border border-gray-200 p-6"><div class="grid grid-cols-2 md:grid-cols-4 gap-6"><div class="border-r border-gray-200 pr-6"><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Project Name</p> <p class="text-lg font-bold text-gray-800"> </p></div> <div class="border-r border-gray-200 pr-6"><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Phase & Area</p> <div class="flex flex-col gap-1"><span class="inline-block px-3 py-1 bg-blue-100 text-blue-700 text-sm font-semibold rounded w-fit"> </span> <span class="text-sm text-gray-600"> </span></div></div> <div class="border-r border-gray-200 pr-6"><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Sponsor</p> <p class="text-sm font-medium text-gray-700"> </p></div> <div><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Status</p> <div class="flex flex-col gap-2"><span class="inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-700 text-sm font-semibold rounded w-fit"><i class="fas fa-check-circle"></i> </span> <p class="text-xs text-gray-600"> </p></div></div></div></div> <div class="bg-white rounded-t-lg shadow-md border-b border-gray-200"><div class="flex gap-0"></div></div> <div class="bg-white rounded-b-lg shadow-md p-8"><!></div> <div class="mt-6 flex gap-3 justify-end"><button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Cancel</button> <button class="px-6 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors">Save & Next</button></div></div>');function Ze(t,s){e(s,!1);const l=p(),o=p();let d=p("project");const g="COVID-19 Vaccine Trial",x="Phase III",b="Immunology",m="Clinical Research Inc.",w="Active",k="Jan 15, 2024",A=[{id:"project",label:"Project",icon:"fa-folder",component:_},{id:"event",label:"Event",icon:"fa-calendar",component:Y},{id:"site",label:"Site",icon:"fa-building",component:le},{id:"imaging",label:"Imaging",icon:"fa-image",component:fe},{id:"clinical",label:"Clinical",icon:"fa-stethoscope",component:Ae},{id:"eventsetup",label:"Event Setup",icon:"fa-table",component:Je}];R(()=>c(d),()=>{h(l,A.find(e=>e.id===c(d)))}),R(()=>(c(l),_),()=>{h(o,c(l)?.component||_)}),F();var T=Xe(),S=i(a(T),2),M=a(S),G=a(M),D=i(a(G),2),P=a(D,!0);n(D),n(G);var j=i(G,2),U=i(a(j),2),L=a(U),O=a(L,!0);n(L);var W=i(L,2),$=a(W,!0);n(W),n(U),n(j);var z=i(j,2),V=i(a(z),2),B=a(V,!0);n(V),n(z);var Q=i(z,2),H=i(a(Q),2),J=a(H),K=i(a(J));n(J);var X=i(J,2),Z=a(X);n(X),n(H),n(Q),n(M),n(S);var ee=i(S,2),te=a(ee);E(te,5,()=>A,e=>e.id,(e,t)=>{var s=Ke(),l=a(s),r=i(l,2),o=a(r,!0);n(r),n(s),u(()=>{C(s,1,`flex items-center gap-2 px-6 py-4 font-medium transition-all border-b-2 ${c(d),c(t),N(()=>c(d)===c(t).id?"border-[#0b3a7a] text-[#0b3a7a] bg-[#0b3a7a]/5":"border-transparent text-gray-600 hover:text-[#0b3a7a] hover:bg-gray-50")??""}`),C(l,1,`fas ${c(t),N(()=>c(t).icon)??""}`),I(o,(c(t),N(()=>c(t).label)))}),f("click",s,()=>h(d,c(t).id)),v(e,s)}),n(te),n(ee);var se=i(ee,2),ae=a(se);q(ae,()=>c(o),(e,t)=>{t(e,{})}),n(se),r(2),n(T),u(()=>{I(P,N(()=>g)),I(O,N(()=>x)),I($,N(()=>b)),I(B,N(()=>m)),I(K,` ${N(()=>w)??""}`),I(Z,`Started: ${N(()=>k)??""}`)}),v(t,T),y()}export{Ze as component};
