import{R as e,p as t,U as a,f as s,c as l,e as o,g as r,b as i,t as n,C as d,j as c,B as m,a as p,d as u,q as b,x as g,S as f,r as v,h as x,G as y,A as h,n as w}from"../chunks/O-IopRwW.js";var _=s("<option> </option>"),L=s("<option> </option>"),k=s("<option> </option>"),A=s('<tr class="border-b border-gray-200 hover:bg-gray-50 transition-colors"><td class="px-6 py-4 text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 text-sm text-gray-600"><div class="font-medium"> </div> <div class="text-xs text-gray-500"> </div></td><td class="px-6 py-4 text-sm text-gray-700"><p class="line-clamp-2"> </p> <p class="text-xs text-gray-500 mt-1"> </p></td><td class="px-6 py-4 text-right"><button class="inline-flex items-center gap-2 px-3 py-1 rounded text-sm font-medium text-[#0b3a7a] bg-blue-50 hover:bg-blue-100 transition-colors"><i class="fas fa-comment"></i> <span> </span></button></td></tr>'),C=s('<div class="overflow-x-auto"><table class="w-full"><thead class="bg-gray-50 border-b border-gray-200"><tr><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Record</th><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Field</th><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Comments</th><th class="px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wide">Actions</th></tr></thead><tbody></tbody></table></div>'),j=s('<div class="p-12 text-center"><i class="fas fa-inbox text-4xl text-gray-300 mb-4 block"></i> <p class="text-gray-500 text-lg">No field comments found</p></div>'),R=s('<div class="p-6 space-y-6 min-h-screen bg-gray-50"><div class="flex items-start justify-between"><div><h1 class="text-3xl font-bold text-gray-800 mb-2">Field Comment Log</h1> <p class="text-gray-600 text-sm max-w-4xl leading-relaxed">This page displays the Field Comment Log for all records/events/fields in this project. You may use the controls below to perform keyword searches in the comments as well as filter the comments by record, event, field, or data access group. Keep in mind that if you do not have user privileges to view some data collection instruments, then comments for any fields on those instruments will not be displayed in the table. Also, if you belong to a data access group, then you will only see results for records that belong to your group. The entire Field Comment Log is downloadable as a file in Excel/CSV format.</p></div></div> <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-800 mb-4">Filters</h2> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">All records</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"><option>All records</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">All fields</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"><option>All fields</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">All users</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"><option>All users</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Data access groups</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"><option>All data access groups</option><option>Group 1</option><option>Group 2</option></select></div></div> <div class="mb-4"><label class="block text-sm font-medium text-gray-700 mb-2">Keyword search</label> <input type="text" placeholder="Search in comments..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"/></div> <div class="flex gap-2"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm">Reset</button> <a href="#" class="text-[#0b3a7a] hover:underline text-sm py-2">Search tips</a></div></div> <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"><div class="bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between"><div><p class="text-sm font-semibold text-gray-800">Results returned: <span class="text-[#0b3a7a]"> </span></p></div> <button class="px-4 py-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-colors font-medium text-sm flex items-center gap-2"><i class="fas fa-download"></i>Export entire log</button></div> <!></div></div>');function F(e,s){t(s,!0);let F=f("all"),N=f("all"),S=f("all"),U=f("all"),$=f(""),B=a([{id:1,record:"1",field:"first_name",fieldLabel:"First Name",comments:'brunettq (03/16/2016 10:32am): "Entered the first name of participant - Participant goes by middle na...',user:"brunettq",timestamp:"03/16/2016 10:32am",eventName:"Baseline"},{id:2,record:"2",field:"age",fieldLabel:"Age",comments:'johndoe (01/20/2024 02:15pm): "Age appears to be a data entry error. Need verification...',user:"johndoe",timestamp:"01/20/2024 02:15pm",eventName:"Baseline"},{id:3,record:"3",field:"consent_date",fieldLabel:"Consent Date",comments:'sarahm (01/19/2024 11:45am): "Consent obtained and documented...',user:"sarahm",timestamp:"01/19/2024 11:45am",eventName:"Day 1"},{id:4,record:"1",field:"vital_signs",fieldLabel:"Vital Signs",comments:'admin (01/18/2024 09:30am): "Blood pressure reading validated...',user:"admin",timestamp:"01/18/2024 09:30am",eventName:"Follow-up"},{id:5,record:"4",field:"medication_list",fieldLabel:"Medication List",comments:'nurse_bob (01/17/2024 03:20pm): "Updated medication list based on patient report...',user:"nurse_bob",timestamp:"01/17/2024 03:20pm",eventName:"Day 2"}]),D=g(()=>{let e=B;if("all"!==c(F)&&(e=e.filter(e=>e.record===c(F))),"all"!==c(N)&&(e=e.filter(e=>e.field===c(N))),"all"!==c(S)&&(e=e.filter(e=>e.user===c(S))),c($).trim()){const t=c($).toLowerCase();e=e.filter(e=>e.comments.toLowerCase().includes(t)||e.fieldLabel.toLowerCase().includes(t)||e.record.toLowerCase().includes(t))}return e});const E=g(()=>Array.from(new Set(B.map(e=>e.record)))),q=g(()=>Array.from(new Set(B.map(e=>e.field)))),G=g(()=>Array.from(new Set(B.map(e=>e.user))));var T=R(),V=r(l(T),2),K=r(l(V),2),O=l(K),z=r(l(O),2),M=l(z);M.value=M.__value="all";var P=r(M);o(P,17,()=>c(E),y,(e,t)=>{var a=_(),s=l(a);v(a);var o={};n(()=>{x(s,`Record ${c(t)??""}`),o!==(o=c(t))&&(a.value=(a.__value=c(t))??"")}),p(e,a)}),v(z),v(O);var Y=r(O,2),H=r(l(Y),2),I=l(H);I.value=I.__value="all";var J=r(I);o(J,17,()=>c(q),y,(e,t)=>{var a=L(),s=l(a,!0);v(a);var o={};n(()=>{x(s,c(t)),o!==(o=c(t))&&(a.value=(a.__value=c(t))??"")}),p(e,a)}),v(H),v(Y);var Q=r(Y,2),W=r(l(Q),2),X=l(W);X.value=X.__value="all";var Z=r(X);o(Z,17,()=>c(G),y,(e,t)=>{var a=k(),s=l(a,!0);v(a);var o={};n(()=>{x(s,c(t)),o!==(o=c(t))&&(a.value=(a.__value=c(t))??"")}),p(e,a)}),v(W),v(Q);var ee=r(Q,2),te=r(l(ee),2),ae=l(te);ae.value=ae.__value="all";var se=r(ae);se.value=se.__value="group1";var le=r(se);le.value=le.__value="group2",v(te),v(ee),v(K);var oe=r(K,2),re=r(l(oe),2);h(re),v(oe);var ie=r(oe,2);l(ie).__click=()=>{b(F,"all"),b(N,"all"),b(S,"all"),b(U,"all"),b($,"")},w(2),v(ie),v(V);var ne=r(V,2),de=l(ne),ce=l(de),me=l(ce),pe=r(l(me)),ue=l(pe,!0);v(pe),v(me),v(ce),r(ce,2).__click=()=>{const e=[["Record","Field","Comments","User","Timestamp"],...c(D).map(e=>[e.record,e.fieldLabel,e.comments,e.user,e.timestamp])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="field-comment-log.csv",s.click(),URL.revokeObjectURL(a)},v(de);var be=r(de,2),ge=e=>{var t=C(),a=l(t),s=r(l(a));o(s,21,()=>c(D),e=>e.id,(e,t)=>{var a=A(),s=l(a),o=l(s,!0);v(s);var i=r(s),d=l(i),m=l(d,!0);v(d);var u=r(d,2),b=l(u);v(u),v(i);var g=r(i),f=l(g),y=l(f,!0);v(f);var h=r(f,2),w=l(h);v(h),v(g);var _=r(g),L=l(_);L.__click=()=>(e=>{console.log("View comment:",e)})(c(t));var k=r(l(L),2),C=l(k);v(k),v(L),v(_),v(a),n(e=>{x(o,c(t).record),x(m,c(t).field),x(b,`(${c(t).fieldLabel??""})`),x(y,c(t).comments),x(w,`${c(t).user??""} - ${c(t).timestamp??""}`),x(C,`${e??""} comment`)},[()=>c(t).comments.split("\n").length]),p(e,a)}),v(s),v(a),v(t),p(e,t)},fe=e=>{var t=j();p(e,t)};i(be,e=>{c(D).length>0?e(ge):e(fe,!1)}),v(ne),v(T),n(()=>x(ue,c(D).length)),d(z,()=>c(F),e=>b(F,e)),d(H,()=>c(N),e=>b(N,e)),d(W,()=>c(S),e=>b(S,e)),d(te,()=>c(U),e=>b(U,e)),m(re,()=>c($),e=>b($,e)),p(e,T),u()}e(["click"]);export{F as component};
