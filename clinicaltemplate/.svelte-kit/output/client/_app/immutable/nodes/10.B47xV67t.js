import{R as e,p as t,U as a,f as s,e as o,b as r,q as l,c as i,g as n,t as c,B as d,j as p,C as m,K as b,a as u,d as f,S as v,V as h,A as x,n as g,r as y,h as j,G as w,H as C,x as P,k,I as D,W as I,X as S}from"../chunks/O-IopRwW.js";import{c as E}from"../chunks/pgnebUR0.js";var T=s("<option> </option>"),N=s('<div class="p-8 border-b animate-in fade-in duration-300 form-section"><h2 class="text-lg font-bold mb-8 section-heading"><i class="fas fa-user mr-2"></i>Principal Investigator Information</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div><label class="block text-sm font-semibold mb-2 form-label">Name of P.I. (if applicable)</label> <div class="grid grid-cols-3 gap-2"><input type="text" placeholder="First" class="px-3 py-2 border rounded-md focus:outline-none text-sm form-input"/> <input type="text" placeholder="MI" maxlength="2" class="px-3 py-2 border rounded-md focus:outline-none text-sm form-input"/> <input type="text" placeholder="Last" class="px-3 py-2 border rounded-md focus:outline-none text-sm form-input"/></div> <div class="grid grid-cols-3 gap-2 mt-1 text-xs text-center helper-text"><span>First name</span> <span>MI</span> <span>Last name</span></div></div> <div><label for="piEmail" class="block text-sm font-semibold mb-2 form-label">Email of P.I. (if applicable)</label> <input id="piEmail" type="email" class="w-full px-4 py-2 border rounded-md focus:outline-none text-sm form-input"/></div> <div><label for="piPublicationName" class="block text-sm font-semibold mb-2 form-label">Name of P.I. as cited in publications (if applicable)</label> <div class="flex gap-2 items-start"><input id="piPublicationName" type="text" placeholder="e.g., Harris PA" class="flex-1 px-4 py-2 border rounded-md focus:outline-none text-sm form-input"/> <span class="text-xs mt-2 helper-text">(e.g., Harris PA)</span></div></div> <div><label for="irbNumber" class="block text-sm font-semibold mb-2 form-label">IRB number (if applicable)</label> <input id="irbNumber" type="text" class="w-full px-4 py-2 border rounded-md focus:outline-none text-sm form-input"/></div></div></div>'),O=s('<label class="flex items-start gap-3 p-2 cursor-pointer hover:bg-gray-50 rounded transition-colors"><input type="checkbox" class="w-4 h-4 rounded cursor-pointer shrink-0 mt-0.5 border"/> <span class="text-sm form-label"> </span></label>'),R=s('<div class="p-8 border-b animate-in fade-in duration-300 form-section"><h2 class="text-lg font-bold mb-8 section-heading"><i class="fas fa-flask mr-2"></i>Research Type</h2> <label class="block text-sm font-semibold mb-4 form-label">Please specify:</label> <div class="grid grid-cols-1 md:grid-cols-2 gap-3"></div></div>'),_=s('<div class="p-4 border rounded-md mb-6 animate-in fade-in duration-300 upload-section"><label class="block"><span class="text-sm font-semibold mb-2 block form-label">Choose XML file to upload</span> <input type="file" accept=".xml" class="w-full px-4 py-2 border rounded-md focus:outline-none cursor-pointer text-sm form-input"/></label> <p class="text-xs mt-2 helper-text"><i class="fas fa-info-circle mr-2"></i>Only CDISC ODM format XML files are supported</p></div>'),A=s('<label><input type="radio" name="template" class="w-4 h-4 cursor-pointer mt-0.5 shrink-0 border"/> <div class="flex-1"><p class="text-sm font-medium" style="color: #EC4899;"> </p> <p class="text-xs mt-1 helper-text"> </p></div></label>'),M=s('<div class="animate-in fade-in duration-300 p-4 border rounded-md template-section"><p class="text-sm font-semibold mb-3 form-label"><i class="fas fa-star text-pink-500 mr-2"></i>Choose a project template</p> <p class="text-xs mb-4 helper-text">(comes pre-filled with fields, forms/surveys, and other settings)</p> <div class="space-y-2"></div></div>'),H=s('<div class="min-h-screen page-bg"><div class="p-4 md:p-8"><div class="max-w-5xl mx-auto"><div class="mb-6"><h2 class="text-2xl font-bold mb-1 section-heading"><i class="fas fa-plus mr-2"></i>Create a new REDCap Project</h2> <p class="text-sm form-label">You may begin the creation of a new REDCap project on your own by completing the form below and clicking the Create Project button at the bottom.</p></div> <div class="rounded-lg shadow-sm overflow-hidden form-card"><div class="p-8 border-b form-section"><h2 class="text-lg font-bold mb-8 section-heading"><i class="fas fa-info-circle mr-2"></i>Basic Information</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div><label for="projectTitle" class="block text-sm font-semibold mb-2 form-label">Project title</label> <input id="projectTitle" type="text" placeholder="e.g., REDCap Basics 2019" class="w-full px-4 py-2 border rounded-md focus:outline-none text-sm form-input"/> <p class="text-xs mt-1 helper-text">Title to be displayed on project webpage</p></div> <div><label for="projectPurpose" class="block text-sm font-semibold mb-2 form-label">Purpose of this project</label> <select id="projectPurpose" class="w-full px-4 py-2 border rounded-md focus:outline-none bg-white text-sm form-select"></select> <p class="text-xs mt-1 italic helper-text">How will it be used?</p></div></div> <div class="mt-6"><label for="projectNotes" class="block text-sm font-semibold mb-2 form-label">Project notes (optional)</label> <textarea id="projectNotes" placeholder="Comments describing the project\'s use or purpose that are displayed on the My Projects page." rows="3" class="w-full px-4 py-2 border rounded-md focus:outline-none resize-none text-sm form-textarea"></textarea></div> <div class="mt-4 flex items-center gap-3"><input id="assignFolder" type="checkbox" class="w-4 h-4 rounded cursor-pointer border"/> <label for="assignFolder" class="text-sm font-semibold cursor-pointer form-label">Assign project to a Project Folder?</label></div></div> <!> <!> <div class="p-8 border-b form-section"><h2 class="text-lg font-bold mb-8 section-heading"><i class="fas fa-rocket mr-2"></i>Start Project</h2> <p class="text-sm font-semibold mb-6 form-label">Start project from scratch or begin with a template?</p> <div class="space-y-4 mb-6"><label><input type="radio" name="startProjectType" value="empty" class="w-4 h-4 cursor-pointer border"/> <div><p class="font-semibold text-sm form-label">Create an empty project (blank slate)</p> <p class="text-xs helper-text">Start with a clean slate and build your project from scratch</p></div></label> <label><input type="radio" name="startProjectType" value="upload" class="w-4 h-4 cursor-pointer border"/> <div><p class="font-semibold text-sm form-label">Upload a REDCap project XML file (CDISC ODM format)</p> <p class="text-xs helper-text">Import configuration from an existing REDCap project file</p></div></label> <label><input type="radio" name="startProjectType" value="template" class="w-4 h-4 cursor-pointer border"/> <div><p class="font-semibold text-sm form-label">Use a template (choose one below)</p> <p class="text-xs helper-text">Start with a pre-built template with sample fields and forms</p></div></label></div> <!> <!></div> <div class="p-8 border-t flex justify-end gap-3 action-buttons"><button class="px-6 py-2 border font-semibold rounded-md hover:opacity-80 transition-all text-sm btn-cancel">Cancel</button> <button class="btn btn-primary">CREATE PROJECT</button></div></div></div></div></div>');function B(e,s){t(s,!0);let B=v(""),F=v(""),L=v(""),Q=v(!1),X=v(""),U=v(""),q=v(""),z=v(""),G=v(""),J=v(""),W=a({basic:!1,clinical:!1,translational1:!1,translational2:!1,behavioral:!1,epidemiology:!1,repository:!1,other:!1}),K=v("empty"),V=v(null);const Y=[{id:"basic-demography",title:"Basic Demography",description:"Contains a single data collection instrument to capture basic demographic information."},{id:"camh-dictionary",title:"CAMH Data Dictionary",description:"Collaborative effort of CAMH researchers Contains a lot of measures used in CAMH studies for internal use only"},{id:"classic-database",title:"Classic Database",description:"Contains six data entry forms, including forms for demography and baseline data, three monthly data forms, and concludes with a completion data form."},{id:"common-elements",title:"Common Data Elements",description:"Contains: Subject Enrollment and Informed Consent, Demographic Form, QIDS-SR, GAD7, PSQI, WHOQOL, Sheehan Disability, Standard values codes and formats for common response categories."}],Z=["--- Select One ---","Practice / Just for fun","Operational Support","Research","Quality Improvement","Other"];let $=P(()=>p(F)&&"--- Select One ---"!==p(F)),ee=P(()=>"Research"===p(F));const te={basic:"Basic or bench research",clinical:"Clinical research study or trial",translational1:"Translational research 1 (applying discoveries to the development of trials and studies in humans)",translational2:"Translational research 2 (enhancing adoption of research findings and best practices into the community)",behavioral:"Behavioral or psychosocial research study",epidemiology:"Epidemiology",repository:"Repository (developing a data or specimen repository for future use by investigators)",other:"Other"};var ae=H(),se=i(ae),oe=i(se),re=n(i(oe),2),le=i(re),ie=n(i(le),2),ne=i(ie),ce=n(i(ne),2);x(ce),g(2),y(ne);var de=n(ne,2),pe=n(i(de),2);o(pe,21,()=>Z,w,(e,t)=>{var a=T(),s=i(a,!0);y(a);var o={};c(()=>{j(s,p(t)),o!==(o=p(t))&&(a.value=(a.__value=p(t))??"")}),u(e,a)}),y(pe),g(2),y(de),y(ie);var me=n(ie,2),be=n(i(me),2);C(be),y(me);var ue=n(me,2),fe=i(ue);x(fe),g(2),y(ue),y(le);var ve=n(le,2),he=e=>{var t=N(),a=n(i(t),2),s=i(a),o=n(i(s),2),r=i(o);x(r);var c=n(r,2);x(c);var m=n(c,2);x(m),y(o),g(2),y(s);var b=n(s,2),f=n(i(b),2);x(f),y(b);var v=n(b,2),h=n(i(v),2),j=i(h);x(j),g(2),y(h),y(v);var w=n(v,2),C=n(i(w),2);x(C),y(w),y(a),y(t),d(r,()=>p(X),e=>l(X,e)),d(c,()=>p(U),e=>l(U,e)),d(m,()=>p(q),e=>l(q,e)),d(f,()=>p(z),e=>l(z,e)),d(j,()=>p(G),e=>l(G,e)),d(C,()=>p(J),e=>l(J,e)),u(e,t)};r(ve,e=>{p($)&&e(he)});var xe=n(ve,2),ge=e=>{var t=R(),a=n(i(t),4);o(a,21,()=>Object.entries(te),w,(e,t)=>{var a=P(()=>S(p(t),2));let s=()=>p(a)[0];var o=O(),r=i(o);x(r);var l=n(r,2),d=i(l,!0);y(l),y(o),c(()=>j(d,p(a)[1])),b(r,()=>W[s()],e=>W[s()]=e),u(e,o)}),y(a),y(t),u(e,t)};r(xe,e=>{p(ee)&&e(ge)});var ye=n(xe,2),je=n(i(ye),4),we=i(je);let Ce;var Pe=i(we);x(Pe),Pe.__change=()=>l(K,"empty"),g(2),y(we);var ke=n(we,2);let De;var Ie=i(ke);x(Ie),Ie.__change=()=>l(K,"upload"),g(2),y(ke);var Se=n(ke,2);let Ee;var Te=i(Se);x(Te),Te.__change=()=>l(K,"template"),g(2),y(Se),y(je);var Ne=n(je,2),Oe=e=>{var t=_();u(e,t)};r(Ne,e=>{"upload"===p(K)&&e(Oe)});var Re=n(Ne,2),_e=e=>{var t=M(),a=n(i(t),4);o(a,21,()=>Y,w,(e,t)=>{var a=A();let s;var o=i(a);x(o),o.__change=()=>l(V,p(t).id,!0);var r=n(o,2),d=i(r),m=i(d,!0);y(d);var b=n(d,2),f=i(b,!0);y(b),y(r),y(a),c(()=>{s=k(a,1,"flex items-start gap-3 p-3 border rounded-md cursor-pointer hover:bg-white transition-colors bg-white template-item",null,s,{selected:p(V)===p(t).id,"border-2":p(V)===p(t).id}),I(o,p(t).id),D(o,p(V)===p(t).id),j(m,p(t).title),j(f,p(t).description)}),u(e,a)}),y(a),y(t),u(e,t)};r(Re,e=>{"template"===p(K)&&e(_e)}),y(ye);var Ae=n(ye,2),Me=i(Ae);Me.__click=function(){confirm("Are you sure you want to cancel? Any unsaved changes will be lost.")&&window.history.back()},n(Me,2).__click=function(){p(B).trim()?p(F)&&"--- Select One ---"!==p(F)?(console.log("Creating project with:",{projectTitle:p(B),projectPurpose:p(F),projectNotes:p(L),assignFolder:p(Q),pi:{firstName:p(X),middleName:p(U),lastName:p(q),email:p(z),publicationName:p(G),irbNumber:p(J)},researchTypes:Object.keys(W).filter(e=>W[e]),startProjectType:p(K),selectedTemplate:p(V)}),h(E.replace(":projectId","newly-created-id")),alert("Project created successfully! (Check console for details)")):alert("Please select a project purpose"):alert("Project title is required")},y(Ae),y(re),y(oe),y(se),y(ae),c(()=>{Ce=k(we,1,"flex items-center gap-3 p-3 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors radio-option",null,Ce,{selected:"empty"===p(K),"border-2":"empty"===p(K)}),D(Pe,"empty"===p(K)),De=k(ke,1,"flex items-center gap-3 p-3 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors radio-option",null,De,{selected:"upload"===p(K),"border-2":"upload"===p(K)}),D(Ie,"upload"===p(K)),Ee=k(Se,1,"flex items-center gap-3 p-3 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors radio-option",null,Ee,{selected:"template"===p(K),"border-2":"template"===p(K)}),D(Te,"template"===p(K))}),d(ce,()=>p(B),e=>l(B,e)),m(pe,()=>p(F),e=>l(F,e)),d(be,()=>p(L),e=>l(L,e)),b(fe,()=>p(Q),e=>l(Q,e)),u(e,ae),f()}e(["change","click"]);export{B as component};
