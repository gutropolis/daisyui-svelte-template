import{R as e,p as t,S as a,U as s,D as r,F as i,b as n,a as l,d as o,q as d,j as c,f as p,c as u,g as m,r as g,A as x,n as b,e as v,t as y,h as f,G as h,H as w,B as _,J as S,C as D,K as k,a1 as j,k as T,x as A,m as M}from"../chunks/O-IopRwW.js";var E=p("<option> </option>"),N=p("<option> </option>"),q=p('<div class="mb-4"><label class="block mb-2"><span class="text-sm font-semibold text-gray-900">while the following logic is true:</span> <textarea placeholder="e.g., [age] > 30 and [sex] = \'1\'" class="w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm" rows="3"></textarea></label> <p class="text-xs text-gray-500 mt-1 flex items-center gap-1"><i class="fas fa-check text-green-600"></i> Valid</p> <a href="#" class="text-xs text-[#0b3a7a] hover:underline block mt-2">How to use \'stop logic\' to disable a scheduled alert</a></div> <label class="flex items-center gap-2"><input type="checkbox" class="w-4 h-4"/> <span class="text-sm text-gray-700">Ensure logic is still true before sending notification?</span> <button class="text-gray-400 hover:text-gray-600" title="Help"><i class="fas fa-question-circle text-xs"></i></button></label>',1),C=p('<div class="mt-2 p-3 bg-white border border-gray-200 rounded-lg"><label class="block mb-2"><span class="text-sm text-gray-700">Or manually enter emails:</span> <input type="text" placeholder="jane@example.com; john@mysite.org" class="w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"/></label></div>'),W=p('<li class="text-sm text-gray-600 flex items-center justify-between"><span> </span> <button class="text-red-600 hover:text-red-700"><i class="fas fa-trash text-xs"></i></button></li>'),L=p('<div class="mt-3 p-3 bg-white border border-gray-200 rounded-lg"><p class="text-sm font-medium text-gray-900 mb-2">Attachments:</p> <ul class="space-y-1"></ul></div>'),P=p('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-auto"><div class="bg-white border-b border-gray-200 sticky top-0 z-10 px-6 py-4 flex justify-between items-center"><h2 class="text-xl font-bold text-gray-900">Create new alert</h2> <button class="text-gray-400 hover:text-gray-600 transition-colors" title="Close"><i class="fas fa-times text-xl"></i></button></div> <div class="px-6 py-4"><div class="mb-8"><div class="bg-blue-50 border border-blue-200 rounded p-3 mb-4"><p class="text-sm text-gray-700">You may define the settings for your alert in Steps 1-3 below. After clicking the Save button at the bottom,\n\t\t\t\t\t\t\tyour alert will immediately become active and may be triggered at any time thereafter. If you would like to\n\t\t\t\t\t\t\tremove or stop using an alert, it may be deactivated at any time. You may modify an existing alert at any time,\n\t\t\t\t\t\t\teven after some notifications have already been sent or scheduled.</p></div> <label class="block mb-2"><span class="text-sm font-semibold text-gray-900 mb-1 block">Title of this alert:</span> <span class="text-xs text-red-500">* must provide value</span> <input type="text" placeholder="Enter alert title (e.g., \'New Subject Consented on XYZ Study\')" class="w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a]"/></label></div> <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden"><div class="bg-blue-600 text-white px-4 py-3 flex items-center gap-2"><i class="fas fa-bell"></i> <h3 class="font-bold text-sm">STEP 1: Triggering the Alert</h3></div> <div class="p-4 bg-gray-50"><div class="mb-4"><p class="text-sm font-semibold text-gray-900 mb-3">How will this alert be triggered?</p> <div class="space-y-2"><label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">When a record is saved on a specific form/survey</span></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">When a record is saved on a specific form/survey with conditional logic</span> <span class="text-xs text-red-500">*</span></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Using conditional logic during a data import or data entry</span></label></div></div> <div class="border-t border-gray-200 pt-4"><p class="text-sm font-semibold text-gray-900 mb-3">Trigger the alert...</p> <div class="flex gap-2 mb-4"><select class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"><option>Select form...</option><!></select> <select class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"></select> <span class="text-xs text-gray-500 py-2">(excludes data imports)</span></div> <!> <p class="text-xs text-red-600 mt-3 font-semibold">* The alert will not be re-triggered if the form/survey is saved again, unless it is set to send\n\t\t\t\t\t\t\t\t"Every time" in Step 2 below.</p></div></div></div> <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden"><div class="bg-blue-600 text-white px-4 py-3 flex items-center gap-2"><i class="fas fa-clock"></i> <h3 class="font-bold text-sm">STEP 2: Set the Alert Schedule</h3></div> <div class="p-4 bg-gray-50"><div class="mb-6"><p class="text-sm font-semibold text-gray-900 mb-3">When to send the alert?</p> <div class="space-y-2"><label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Send immediately</span></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <div class="flex items-center gap-2"><span class="text-sm text-gray-700">Send on next</span> <select class="px-2 py-1 border border-gray-300 rounded text-sm"><option>day</option><option>hour</option><option>month</option></select> <span class="text-sm text-gray-700">at time</span> <input type="time" class="px-2 py-1 border border-gray-300 rounded text-sm" placeholder="HH:MM"/></div></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Send after lapse of time:</span> <input type="number" min="0" class="w-12 px-2 py-1 border border-gray-300 rounded text-sm"/> <span class="text-sm text-gray-700">days</span> <input type="number" min="0" max="23" class="w-12 px-2 py-1 border border-gray-300 rounded text-sm"/> <span class="text-sm text-gray-700">hours</span> <input type="number" min="0" max="59" class="w-12 px-2 py-1 border border-gray-300 rounded text-sm"/> <span class="text-sm text-gray-700">minutes</span></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Send at exact date/time:</span> <input type="datetime-local" class="px-2 py-1 border border-gray-300 rounded text-sm" placeholder="MM/DD/YYYY HH:MM"/></label></div></div> <div class="border-t border-gray-200 pt-4"><p class="text-sm font-semibold text-gray-900 mb-3">Send it how many times?</p> <div class="space-y-2"><label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Just once</span></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Every time the form/survey in Step 1 is saved (excludes data imports)</span></label> <label class="flex items-center gap-2"><input type="radio" class="w-4 h-4"/> <span class="text-sm text-gray-700">Multiple times: Send every</span> <input type="number" min="0" class="w-12 px-2 py-1 border border-gray-300 rounded text-sm"/> <select class="px-2 py-1 border border-gray-300 rounded text-sm"><option>days</option><option>hours</option><option>weeks</option></select> <span class="text-sm text-gray-700">after initially being sent</span></label></div></div></div></div> <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden"><div class="bg-blue-600 text-white px-4 py-3 flex items-center gap-2"><i class="fas fa-envelope"></i> <h3 class="font-bold text-sm">STEP 3: Message Settings</h3></div> <div class="p-4 bg-gray-50"><div class="mb-4"><label class="block mb-2"><span class="text-sm font-semibold text-gray-900">Email From:</span> <span class="text-xs text-red-500">* must provide value</span> <select class="w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a]"><option>j.johnston@ufl.edu</option><option>admin@example.com</option></select></label></div> <div class="mb-4"><label class="block mb-2"><span class="text-sm font-semibold text-gray-900">Email To:</span> <span class="text-xs text-red-500">* must provide value</span> <div class="flex gap-2 mt-1"><select class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a]"><option>Select recipient...</option><option>j.johnston@ufl.edu</option><option>admin@example.com</option></select> <button class="text-[#0b3a7a] hover:underline text-sm font-medium px-2">+ Show more options</button></div></label> <!></div> <div class="mb-4"><label class="block mb-2"><span class="text-sm font-semibold text-gray-900">Subject:</span> <span class="text-xs text-red-500">* must provide value</span> <input type="text" placeholder="Study XYZ New Subject Consented" class="w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a]"/></label></div> <div class="mb-4"><label class="block mb-2"><span class="text-sm font-semibold text-gray-900">Message:</span> <span class="text-xs text-red-500">* must provide value</span> <textarea placeholder="Record [participant_id] has consented to study. Review consent here: [survey-url:prescreening_survey]" class="w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm" rows="4"></textarea></label> <p class="text-xs text-gray-500 mt-1">In the subject or message, you may use <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium">Piping</span> and <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium">Smart Variables</span></p> <p class="text-xs text-gray-500 mt-2">Example: Hi [first_name]! Please complete this survey: [survey-link:followup_survey]</p></div> <div class="mb-4"><label class="flex items-center gap-2"><input type="checkbox" class="w-4 h-4"/> <span class="text-sm text-gray-700">Prevent piping of data for Identifier fields</span> <button class="text-gray-400 hover:text-gray-600" title="Help"><i class="fas fa-question-circle text-xs"></i></button></label></div> <button class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg flex items-center gap-2 transition-colors"><i class="fas fa-paperclip"></i> Add attachments</button> <!></div></div> <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden"><div class="bg-gray-600 text-white px-4 py-3"><h3 class="font-bold text-sm">Optional: Automatic Alert Expiration</h3></div> <div class="p-4 bg-gray-50"><label class="block mb-2"><span class="text-sm font-semibold text-gray-900">Alert expiration:</span> <input type="datetime-local" class="w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a]" placeholder="MM/DD/YYYY HH:MM"/></label> <p class="text-xs text-gray-600 mt-2">This alert will be auto-deactivated at the specified date/time above. Note: This will cause any\n\t\t\t\t\t\t\talready-scheduled notifications not to be sent after the expiration time.</p></div></div></div> <div class="border-t border-gray-200 px-6 py-4 flex justify-end gap-3 bg-gray-50"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Cancel</button> <button class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors">Save</button></div></div></div>');e(["click"]);var F=p('<div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow"><div class="bg-gradient-to-r from-[#0b3a7a] to-[#0d5fa0] text-white px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex-1"><h3 class="font-semibold text-lg"> </h3> <p class="text-xs text-white/70"> </p></div></div> <div class="flex items-center gap-1"><button title="Edit alert" class="p-2 rounded hover:bg-white/20 transition-colors"><i class="fas fa-edit"></i></button> <button title="Options" class="p-2 rounded hover:bg-white/20 transition-colors"><i class="fas fa-ellipsis-v"></i></button></div></div> <div class="px-6 py-4 space-y-4"><div><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Trigger</p> <p class="text-sm text-gray-700 leading-relaxed"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <div class="grid grid-cols-2 gap-6"><div><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Schedule</p> <p class="text-sm text-gray-700"> </p> <p class="text-xs text-gray-500 mt-2"> </p></div> <div><p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2">Email Configuration</p> <div class="text-sm space-y-1 text-gray-700"><p><span class="font-medium">To:</span> </p> <p><span class="font-medium">Subject:</span> </p></div></div></div> <div class="pt-2 border-t border-gray-200"><p class="text-xs text-gray-500"><i class="fas fa-history mr-1"></i> </p></div></div> <div class="bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200"><div><span> </span></div> <div class="flex items-center gap-2"><button><i class="fas fa-power-off mr-1"></i> </button> <button title="Copy alert" class="px-3 py-1 rounded text-xs font-medium bg-gray-200 text-gray-800 hover:bg-gray-300 transition-colors"><i class="fas fa-copy mr-1"></i>Copy</button> <button title="Delete alert" class="px-3 py-1 rounded text-xs font-medium bg-red-100 text-red-800 hover:bg-red-200 transition-colors"><i class="fas fa-trash mr-1"></i>Delete</button></div></div></div>'),H=p('<div class="space-y-4"></div>'),I=p('<div class="bg-white rounded-lg shadow p-12 text-center"><i class="fas fa-inbox text-4xl text-gray-300 mb-4 block"></i> <p class="text-gray-500 text-lg">No alerts found</p></div>'),Y=p('<div class="space-y-6"><div class="flex justify-between items-center"><button class="bg-[#0b3a7a] hover:bg-[#082654] text-white font-medium py-2 px-4 rounded-lg flex items-center gap-2 transition-colors shadow"><i class="fas fa-plus"></i>Add New Alert</button> <div class="flex items-center gap-4"><label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 rounded border-gray-300"/> <span class="text-sm text-gray-700">Show deactivated</span></label> <input type="text" placeholder="Search alerts..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] w-48"/></div></div> <!></div>'),U=p('<tr class="border-b border-gray-200 hover:bg-gray-50 transition-colors"><td class="px-6 py-4 font-medium text-gray-900"> </td><td class="px-6 py-4 text-sm text-gray-600"> </td><td class="px-6 py-4 text-sm text-gray-600"> </td><td class="px-6 py-4 text-sm text-gray-600"> </td><td class="px-6 py-4"><span> </span></td><td class="px-6 py-4 text-right"><div class="flex justify-end gap-2"><button title="View notification" class="p-2 rounded hover:bg-[#0b3a7a]/10 text-[#0b3a7a] transition-colors"><i class="fas fa-eye"></i></button> <button title="Retry sending" class="p-2 rounded hover:bg-yellow-50 text-yellow-600 transition-colors"><i class="fas fa-redo"></i></button></div></td></tr>'),z=p('<div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"><table class="w-full"><thead class="bg-gray-50 border-b border-gray-200"><tr><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Alert Name</th><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Recipient</th><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Subject</th><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Sent Date/Time</th><th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">Status</th><th class="px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wide">Actions</th></tr></thead><tbody></tbody></table></div>'),B=p('<div class="bg-white rounded-lg shadow p-12 text-center"><i class="fas fa-inbox text-4xl text-gray-300 mb-4 block"></i> <p class="text-gray-500 text-lg">No notifications found</p></div>'),R=p('<div class="space-y-6"><div class="flex justify-between items-center"><div class="text-sm text-gray-600">Showing <span class="font-semibold text-gray-800"> </span> </div> <div class="flex items-center gap-4"><select class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] text-sm"><option>All Status</option><option>Sent</option><option>Pending</option><option>Failed</option></select> <input type="text" placeholder="Search notifications..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0b3a7a] w-48"/></div></div> <!></div>'),V=p('<div class="p-6 space-y-6 min-h-screen bg-gray-50"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold text-gray-800 mb-2">Alerts & Notifications</h1> <p class="text-gray-600 text-sm max-w-4xl leading-relaxed">The Alerts & Notifications feature allows you to construct alerts and send customized email notifications. These notifications may be sent to one or more recipients and can be triggered or scheduled when a form/survey is saved and/or based on conditional logic whenever data is saved or imported. When adding/editing an alert, you will need to 1) set how the alert gets triggered, 2) define when the notification should be sent (including how many times), and 3) specify the recipient, sender, message text, and other settings for the notification. For the message, you may utilize customized options such as rich text, the piping of field variables (including Smart Variables), and uploading multiple file attachments.</p> <a href="#" class="text-[#0b3a7a] hover:underline text-sm mt-2 inline-block">Learn more</a></div></div> <div class="flex gap-1 border-b border-gray-200"><button><i class="fas fa-bell mr-2"></i>My Alerts</button> <button><i class="fas fa-history mr-2"></i>Notification Log</button></div> <!> <!></div> <!>',1);function $(e,p){t(p,!0);let $,O=a("my-alerts"),J=a(!1),X=a(""),Z=a("all"),G=a(s([{id:1,name:"Alert #2: Day 1 - Morning",trigger:'If the following logic is TRUE when the instrument "Send Notification Based on Date Field Value" is saved on any form status: [enrollment_date]>="" and [schedule_notification] = "1"',triggerDescription:"(only once, no re-trigger)",sendWhen:"Schedule to send later: 1 days, 8 hours after [enrollment_date]",frequency:"Send one time (only once per record - ie. never re-trigger)",emailTo:"manual@arizona.edu",subject:"Day 1 - Morning",activity:"No alerts sent yet",status:"active",uniqueId:"A-12145"},{id:2,name:"Alert #2: Day 1 - Afternoon",trigger:'If the following logic is TRUE when the instrument "Send Notification Based on Date Field Value" is saved on any form status: [enrollment_date]>="" and [schedule_notification] = "1"',triggerDescription:"(only once, no re-trigger)",sendWhen:"Schedule to send later: 1 days, 14 hours after [enrollment_date]",frequency:"Send one time (only once per record - ie. never re-trigger)",emailTo:"manual@arizona.edu",subject:"Day 1 - Afternoon",activity:"No alerts sent yet",status:"active",uniqueId:"A-12147"},{id:3,name:"Alert #4: Day 1 - Evening",trigger:'If the following logic is TRUE when the instrument "Send Notification Based on Date Field Value" is saved on any form status: [enrollment_date]>="" and [schedule_notification] = "1"',triggerDescription:"(only once, no re-trigger)",sendWhen:"Schedule to send later: 1 days, 20 hours after [enrollment_date]",frequency:"Send one time (only once per record - ie. never re-trigger)",emailTo:"manual@arizona.edu",subject:"Day 1 - Evening",activity:"No alerts sent yet",status:"active",uniqueId:"A-12148"},{id:4,name:"Alert #5: Day 2 - Morning",trigger:'If the following logic is TRUE when the instrument "Send Notification Based on Date Field Value" is saved on any form status: [enrollment_date]>="" and [schedule_notification] = "1"',triggerDescription:"(only once, no re-trigger)",sendWhen:"Schedule to send later: 2 days, 8 hours after [enrollment_date]",frequency:"Send one time (only once per record - ie. never re-trigger)",emailTo:"manual@arizona.edu",subject:"Day 2 - Morning",activity:"No alerts sent yet",status:"active",uniqueId:"A-12149"}])),K=s([{id:1,alertName:"Form Submission Alert",recipient:"john@example.com",subject:"Form submitted for Patient P001",sentDate:"2024-01-28 10:30 AM",status:"sent",type:"email"},{id:2,alertName:"Missing Data Alert",recipient:"sarah@example.com",subject:"Missing required fields in baseline visit",sentDate:"2024-01-28 09:15 AM",status:"sent",type:"email"},{id:3,alertName:"Status Change Alert",recipient:"admin@example.com",subject:"Record moved to completed",sentDate:"2024-01-27 02:00 PM",status:"failed",type:"email"},{id:4,alertName:"Form Submission Alert",recipient:"john@example.com",subject:"Form submitted for Patient P002",sentDate:"2024-01-27 11:45 AM",status:"sent",type:"email"},{id:5,alertName:"Missing Data Alert",recipient:"sarah@example.com",subject:"Missing required fields in follow-up visit",sentDate:"2024-01-26 03:30 PM",status:"pending",type:"email"}]),Q=A(()=>{let e=c(G);if(c(J)||(e=e.filter(e=>"inactive"!==e.status)),"all"!==c(Z)&&(e=e.filter(e=>e.status===c(Z))),c(X).trim()){const t=c(X).toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}return e}),ee=A(()=>{let e=K;if(c(X).trim()){const t=c(X).toLowerCase();e=e.filter(e=>e.alertName.toLowerCase().includes(t)||e.recipient.toLowerCase().includes(t)||e.subject.toLowerCase().includes(t))}return e});const te=e=>{switch(e){case"active":case"sent":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-blue-100 text-blue-800"}};var ae=V(),se=i(ae),re=m(u(se),2),ie=u(re);ie.__click=()=>d(O,"my-alerts");var ne=m(ie,2);ne.__click=()=>d(O,"notification-log"),g(re);var le=m(re,2),oe=e=>{var t=Y(),a=u(t),s=u(a);s.__click=()=>$.open();var r=m(s,2),i=u(r),o=u(i);x(o),b(2),g(i);var p=m(i,2);x(p),g(r),g(a);var h=m(a,2),w=e=>{var t=H();v(t,21,()=>c(Q),e=>e.id,(e,t)=>{var a=F(),s=u(a),r=u(s),i=u(r),n=u(i),o=u(n,!0);g(n);var p=m(n,2),x=u(p);g(p),g(i),g(r),b(2),g(s);var v=m(s,2),h=u(v),w=m(u(h),2),_=u(w,!0);g(w);var S=m(w,2),D=u(S,!0);g(S),g(h);var k=m(h,2),j=u(k),A=m(u(j),2),E=u(A,!0);g(A);var N=m(A,2),q=u(N,!0);g(N),g(j);var C=m(j,2),W=m(u(C),2),L=u(W),P=m(u(L));g(L);var H=m(L,2),I=m(u(H));g(H),g(W),g(C),g(k);var Y=m(k,2),U=u(Y),z=m(u(U),1,!0);g(U),g(Y),g(v);var B=m(v,2),R=u(B),V=u(R),$=u(V,!0);g(V),g(R);var O=m(R,2),J=u(O);J.__click=()=>(e=>{const t=c(G).find(t=>t.id===e);t&&(t.status="active"===t.status?"inactive":"active")})(c(t).id);var X=m(u(J),1,!0);g(J),m(J,4).__click=()=>{return e=c(t).id,void d(G,c(G).filter(t=>t.id!==e),!0);var e},g(O),g(B),g(a),y((e,a)=>{f(o,c(t).name),f(x,`ID: ${c(t).uniqueId??""}`),f(_,c(t).trigger),f(D,c(t).triggerDescription),f(E,c(t).sendWhen),f(q,c(t).frequency),f(P,` ${c(t).emailTo??""}`),f(I,` ${c(t).subject??""}`),f(z,c(t).activity),T(V,1,`inline-block px-3 py-1 rounded-full text-xs font-semibold ${e??""}`),f($,a),M(J,"title","active"===c(t).status?"Deactivate":"Activate"),T(J,1,"px-3 py-1 rounded text-xs font-medium transition-colors "+("active"===c(t).status?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-blue-100 text-blue-800 hover:bg-blue-200")),f(X,"active"===c(t).status?"Deactivate":"Activate")},[()=>te(c(t).status),()=>c(t).status.charAt(0).toUpperCase()+c(t).status.slice(1)]),l(e,a)}),g(t),l(e,t)},S=e=>{var t=I();l(e,t)};n(h,e=>{c(Q).length>0?e(w):e(S,!1)}),g(t),k(o,()=>c(J),e=>d(J,e)),_(p,()=>c(X),e=>d(X,e)),l(e,t)};n(le,e=>{"my-alerts"===c(O)&&e(oe)});var de=m(le,2),ce=e=>{var t=R(),a=u(t),s=u(a),r=m(u(s)),i=u(r,!0);g(r);var o=m(r);g(s);var p=m(s,2),h=u(p),w=u(h);w.value=w.__value="all";var S=m(w);S.value=S.__value="sent";var k=m(S);k.value=k.__value="pending";var j=m(k);j.value=j.__value="failed",g(h);var A=m(h,2);x(A),g(p),g(a);var M=m(a,2),E=e=>{var t=z(),a=u(t),s=m(u(a));v(s,21,()=>c(ee),e=>e.id,(e,t)=>{var a=U(),s=u(a),r=u(s,!0);g(s);var i=m(s),n=u(i,!0);g(i);var o=m(i),d=u(o,!0);g(o);var p=m(o),x=u(p,!0);g(p);var v=m(p),h=u(v),w=u(h,!0);g(h),g(v),b(),g(a),y((e,a)=>{f(r,c(t).alertName),f(n,c(t).recipient),f(d,c(t).subject),f(x,c(t).sentDate),T(h,1,`inline-block px-3 py-1 rounded-full text-xs font-semibold ${e??""}`),f(w,a)},[()=>te(c(t).status),()=>c(t).status.charAt(0).toUpperCase()+c(t).status.slice(1)]),l(e,a)}),g(s),g(a),g(t),l(e,t)},N=e=>{var t=B();l(e,t)};n(M,e=>{c(ee).length>0?e(E):e(N,!1)}),g(t),y(()=>{f(i,c(ee).length),f(o," notification\n\t\t\t\t\t"+(1===c(ee).length?"record":"records"))}),D(h,()=>c(Z),e=>d(Z,e)),_(A,()=>c(X),e=>d(X,e)),l(e,t)};n(de,e=>{"notification-log"===c(O)&&e(ce)}),g(se);var pe=m(se,2);j(function(e,p){t(p,!0);const j=[],T=[],A=[];let M=a(!1),F=a(0),H=a(!1),I=a(s({title:"",triggerType:"specific-form",formName:"",formStatus:"any",conditionalLogic:"",ensureLogicBeforeSending:!1,sendWhen:"immediately",nextEventValue:1,nextEventUnit:"day",lapseDays:0,lapseHours:0,lapseMinutes:0,exactDateTime:"",frequency:"every-time",multipleDays:0,emailFrom:"j.johnston@ufl.edu",emailTo:"",manualEmails:"",subject:"",message:"",preventPiping:!0,attachments:[],expirationDateTime:""}));const Y=["Baseline","Intervention","Checkpoint 30 Day","Checkpoint 6 Month","Checkpoint 1 Year"],U=["any form status","complete","incomplete","unverified"],z=()=>{d(M,!1),B()},B=()=>{d(I,{title:"",triggerType:"specific-form",formName:"",formStatus:"any",conditionalLogic:"",ensureLogicBeforeSending:!1,sendWhen:"immediately",nextEventValue:1,nextEventUnit:"day",lapseDays:0,lapseHours:0,lapseMinutes:0,exactDateTime:"",frequency:"every-time",multipleDays:0,emailFrom:"j.johnston@ufl.edu",emailTo:"",manualEmails:"",subject:"",message:"",preventPiping:!0,attachments:[],expirationDateTime:""},!0),d(F,0)},R=()=>{console.log("Saving alert:",c(I)),z()};var V={open:()=>{d(M,!0),d(F,0)},close:z},$=r(),O=i($),J=e=>{var t=P(),a=u(t),s=u(a);m(u(s),2).__click=z,g(s);var r=m(s,2),o=u(r),p=m(u(o),2),M=m(u(p),4);x(M),g(p),g(o);var F=m(o,2),B=m(u(F),2),V=u(B),$=m(u(V),2),O=u($),J=u(O);x(J),J.value=J.__value="specific-form",b(2),g(O);var X=m(O,2),Z=u(X);x(Z),Z.value=Z.__value="conditional-form",b(4),g(X);var G=m(X,2),K=u(G);x(K),K.value=K.__value="import-logic",b(2),g(G),g($),g(V);var Q=m(V,2),ee=m(u(Q),2),te=u(ee),ae=u(te);ae.value=ae.__value="";var se=m(ae);v(se,17,()=>Y,h,(e,t)=>{var a=E(),s=u(a,!0);g(a);var r={};y(()=>{f(s,c(t)),r!==(r=c(t))&&(a.value=(a.__value=c(t))??"")}),l(e,a)}),g(te);var re=m(te,2);v(re,21,()=>U,h,(e,t)=>{var a=N(),s=u(a,!0);g(a);var r={};y(()=>{f(s,c(t)),r!==(r=c(t))&&(a.value=(a.__value=c(t))??"")}),l(e,a)}),g(re),b(2),g(ee);var ie=m(ee,2),ne=e=>{var t=q(),a=i(t),s=u(a),r=m(u(s),2);w(r),g(s),b(4),g(a);var n=m(a,2),o=u(n);x(o),b(4),g(n),_(r,()=>c(I).conditionalLogic,e=>c(I).conditionalLogic=e),k(o,()=>c(I).ensureLogicBeforeSending,e=>c(I).ensureLogicBeforeSending=e),l(e,t)};n(ie,e=>{"specific-form"!==c(I).triggerType&&e(ne)}),b(2),g(Q),g(B),g(F);var le=m(F,2),oe=m(u(le),2),de=u(oe),ce=m(u(de),2),pe=u(ce),ue=u(pe);x(ue),ue.value=ue.__value="immediately",b(2),g(pe);var me=m(pe,2),ge=u(me);x(ge),ge.value=ge.__value="on-next";var xe=m(ge,2),be=m(u(xe),2),ve=u(be);ve.value=ve.__value="day";var ye=m(ve);ye.value=ye.__value="hour";var fe=m(ye);fe.value=fe.__value="month",g(be),b(4),g(xe),g(me);var he=m(me,2),we=u(he);x(we),we.value=we.__value="after-lapse";var _e=m(we,4);x(_e);var Se=m(_e,4);x(Se);var De=m(Se,4);x(De),b(2),g(he);var ke=m(he,2),je=u(ke);x(je),je.value=je.__value="exact-date";var Te=m(je,4);x(Te),g(ke),g(ce),g(de);var Ae=m(de,2),Me=m(u(Ae),2),Ee=u(Me),Ne=u(Ee);x(Ne),Ne.value=Ne.__value="once",b(2),g(Ee);var qe=m(Ee,2),Ce=u(qe);x(Ce),Ce.value=Ce.__value="every-time",b(2),g(qe);var We=m(qe,2),Le=u(We);x(Le),Le.value=Le.__value="multiple";var Pe=m(Le,4);x(Pe),b(4),g(We),g(Me),g(Ae),g(oe),g(le);var Fe=m(le,2),He=m(u(Fe),2),Ie=u(He),Ye=u(Ie),Ue=m(u(Ye),4),ze=u(Ue);ze.value=ze.__value="j.johnston@ufl.edu";var Be=m(ze);Be.value=Be.__value="admin@example.com",g(Ue),g(Ye),g(Ie);var Re=m(Ie,2),Ve=u(Re),$e=m(u(Ve),4),Oe=u($e),Je=u(Oe);Je.value=Je.__value="";var Xe=m(Je);Xe.value=Xe.__value="j.johnston@ufl.edu";var Ze=m(Xe);Ze.value=Ze.__value="admin@example.com",g(Oe),m(Oe,2).__click=()=>d(H,!c(H)),g($e),g(Ve);var Ge=m(Ve,2),Ke=e=>{var t=C(),a=u(t),s=m(u(a),2);x(s),g(a),g(t),_(s,()=>c(I).manualEmails,e=>c(I).manualEmails=e),l(e,t)};n(Ge,e=>{c(H)&&e(Ke)}),g(Re);var Qe=m(Re,2),et=u(Qe),tt=m(u(et),4);x(tt),g(et),g(Qe);var at=m(Qe,2),st=u(at),rt=m(u(st),4);w(rt),g(st),b(4),g(at);var it=m(at,2),nt=u(it),lt=u(nt);x(lt),b(4),g(nt),g(it);var ot=m(it,4),dt=e=>{var t=L(),a=m(u(t),2);v(a,21,()=>c(I).attachments,h,(e,t)=>{var a=W(),s=u(a),r=u(s,!0);g(s),b(2),g(a),y(()=>f(r,c(t).name)),l(e,a)}),g(a),g(t),l(e,t)};n(ot,e=>{c(I).attachments.length>0&&e(dt)}),g(He),g(Fe);var ct=m(Fe,2),pt=m(u(ct),2),ut=u(pt),mt=m(u(ut),2);x(mt),g(ut),b(2),g(pt),g(ct),g(r);var gt=m(r,2),xt=u(gt);xt.__click=z,m(xt,2).__click=R,g(gt),g(a),g(t),_(M,()=>c(I).title,e=>c(I).title=e),S(j,[],J,()=>c(I).triggerType,e=>c(I).triggerType=e),S(j,[],Z,()=>c(I).triggerType,e=>c(I).triggerType=e),S(j,[],K,()=>c(I).triggerType,e=>c(I).triggerType=e),D(te,()=>c(I).formName,e=>c(I).formName=e),D(re,()=>c(I).formStatus,e=>c(I).formStatus=e),S(T,[],ue,()=>c(I).sendWhen,e=>c(I).sendWhen=e),S(T,[],ge,()=>c(I).sendWhen,e=>c(I).sendWhen=e),D(be,()=>c(I).nextEventUnit,e=>c(I).nextEventUnit=e),S(T,[],we,()=>c(I).sendWhen,e=>c(I).sendWhen=e),_(_e,()=>c(I).lapseDays,e=>c(I).lapseDays=e),_(Se,()=>c(I).lapseHours,e=>c(I).lapseHours=e),_(De,()=>c(I).lapseMinutes,e=>c(I).lapseMinutes=e),S(T,[],je,()=>c(I).sendWhen,e=>c(I).sendWhen=e),_(Te,()=>c(I).exactDateTime,e=>c(I).exactDateTime=e),S(A,[],Ne,()=>c(I).frequency,e=>c(I).frequency=e),S(A,[],Ce,()=>c(I).frequency,e=>c(I).frequency=e),S(A,[],Le,()=>c(I).frequency,e=>c(I).frequency=e),_(Pe,()=>c(I).multipleDays,e=>c(I).multipleDays=e),D(Ue,()=>c(I).emailFrom,e=>c(I).emailFrom=e),D(Oe,()=>c(I).emailTo,e=>c(I).emailTo=e),_(tt,()=>c(I).subject,e=>c(I).subject=e),_(rt,()=>c(I).message,e=>c(I).message=e),k(lt,()=>c(I).preventPiping,e=>c(I).preventPiping=e),_(mt,()=>c(I).expirationDateTime,e=>c(I).expirationDateTime=e),l(e,t)};return n(O,e=>{c(M)&&e(J)}),l(e,$),o(V)}(pe,{}),e=>$=e,()=>$),y(()=>{T(ie,1,"px-4 py-3 font-medium text-sm border-b-2 transition-all "+("my-alerts"===c(O)?"border-[#0b3a7a] text-[#0b3a7a]":"border-transparent text-gray-600 hover:text-[#0b3a7a]")),T(ne,1,"px-4 py-3 font-medium text-sm border-b-2 transition-all "+("notification-log"===c(O)?"border-[#0b3a7a] text-[#0b3a7a]":"border-transparent text-gray-600 hover:text-[#0b3a7a]"))}),l(e,ae),o()}e(["click"]);export{$ as component};
