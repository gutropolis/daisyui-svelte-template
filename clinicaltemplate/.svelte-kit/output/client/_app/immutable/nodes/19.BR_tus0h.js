import{p as e,f as t,e as a,b as s,t as r,v as i,a as l,d,w as n,g as o,c,n as b,r as p,A as v,j as g,I as m,h as x,K as f,m as u,x as y,y as h,z as w,B as k}from"../chunks/O-IopRwW.js";import{c as j}from"../chunks/pgnebUR0.js";import{r as D}from"../chunks/DVfzy2eF.js";var E=t('<label class="flex items-center gap-3 cursor-pointer p-2 hover:bg-gray-50 rounded"><input type="checkbox" class="w-4 h-4 rounded border-gray-300 text-[#0b3a7a] focus:ring-[#0b3a7a]"/> <span class="text-gray-700"> </span></label>'),I=t('<div class="bg-white rounded-lg shadow p-6"><div class="flex items-start justify-between mb-4"><div><h3 class="text-lg font-bold text-gray-800"> </h3> <p class="text-sm text-gray-600"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <button class="px-3 py-1 bg-red-50 text-red-600 rounded hover:bg-red-100 text-xs font-medium transition-colors"><i class="fas fa-trash"></i> Delete</button></div> <div class="border-t pt-4"><p class="text-sm font-semibold text-gray-700 mb-3">Assign Instruments:</p> <div class="space-y-2"></div></div> <div class="border-t pt-4 mt-4"><label class="flex items-center gap-3 cursor-pointer"><input type="checkbox" class="w-4 h-4 rounded border-gray-300 text-[#0b3a7a] focus:ring-[#0b3a7a]"/> <span class="text-sm font-medium text-gray-700">Mark as repeatable event</span></label></div></div>'),O=t('<th class="px-6 py-3 text-center font-semibold text-gray-700"> </th>'),B=t('<i class="fas fa-check text-green-600 text-lg"></i>'),C=t('<span class="text-gray-300">â€”</span>'),M=t('<td class="px-6 py-3 text-center"><!></td>'),z=t('<tr class="hover:bg-gray-50"><td class="px-6 py-3 font-medium text-gray-800"> </td><!></tr>'),A=t('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4"><h2 class="text-xl font-bold text-gray-800 mb-4">Create New Event</h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Event Name</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] outline-none" placeholder="e.g., Baseline Visit"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Description</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] outline-none" placeholder="e.g., Initial assessment"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Day Offset</label> <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0b3a7a] outline-none" placeholder="0"/></div></div> <div class="flex gap-2 justify-end mt-6 border-t pt-4"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Cancel</button> <button class="px-4 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors">Create Event</button></div></div></div>'),N=t('<div class="p-6 space-y-6"><div><a class="flex items-center gap-2 text-[#0b3a7a] hover:text-[#082654] text-sm font-medium mb-4"><i class="fas fa-arrow-left"></i>Back to Setup</a> <h1 class="text-3xl font-bold text-gray-800 mb-2">Define Your Events</h1> <p class="text-gray-600">Create events and assign instruments to them for scheduling and data collection</p></div> <div class="flex gap-3"><button class="px-4 py-2 bg-[#0b3a7a] text-white rounded-lg hover:bg-[#082654] font-medium transition-colors flex items-center gap-2"><i class="fas fa-plus"></i> Define My Events</button> <button class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium transition-colors flex items-center gap-2"><i class="fas fa-check"></i> Designate Instruments for My Events</button></div> <div class="space-y-4"></div> <div class="bg-white rounded-lg shadow overflow-hidden"><div class="p-6 border-b border-gray-200"><h2 class="text-xl font-bold text-gray-800">Event Matrix</h2> <p class="text-sm text-gray-600 mt-1">Overview of event-to-instrument assignments</p></div> <div class="overflow-x-auto"><table class="w-full text-sm"><thead class="bg-gray-50 border-b border-gray-200"><tr><th class="px-6 py-3 text-left font-semibold text-gray-700">Event Name</th><!></tr></thead><tbody class="divide-y divide-gray-200"></tbody></table></div></div> <!></div>');function V(t,V){e(V,!0);const[$,F]=n();let K=[{id:1,name:"Baseline",description:"Initial assessment",dayOffset:0,repeatable:!1},{id:2,name:"Follow-up Week 4",description:"4-week follow-up visit",dayOffset:28,repeatable:!1}],L=[{id:1,name:"Baseline Assessment"},{id:2,name:"Vitals"},{id:3,name:"Lab Results"}],R={1:[1,2],2:[2,3]},S=!1,W="",Y="",q=0;const G=()=>{const e={id:Math.max(...K.map(e=>e.id),0)+1,name:W,description:Y,dayOffset:q,repeatable:!1};K=[...K,e],R[e.id]=[],S=!1,W="",Y="",q=0},H=y(()=>h(w,"$page",$).params.projectId??"1"),J=y(()=>D(j,g(H)));var P=N(),Q=c(P),T=c(Q);b(4),p(Q);var U=o(Q,2),X=c(U);b(2),p(U);var Z=o(U,2);a(Z,21,()=>K,e=>e.id,(e,t,s)=>{var d=I(),n=c(d),u=c(n),y=c(u),h=c(y,!0);p(y);var w=o(y,2),k=c(w,!0);p(w);var j=o(w,2),D=c(j);p(j),p(u);var O=o(u,2);p(n);var B=o(n,2),C=o(c(B),2);a(C,21,()=>L,e=>e.id,(e,a)=>{var s=E(),d=c(s);v(d);var n=o(d,2),b=c(n,!0);p(n),p(s),r(e=>{m(d,e),x(b,g(a).name)},[()=>R[g(t).id]?.includes(g(a).id)??!1]),i("change",d,()=>((e,t)=>{const a=R[e]||[];a.includes(t)?R[e]=a.filter(e=>e!==t):R[e]=[...a,t]})(g(t).id,g(a).id)),l(e,s)}),p(C),p(B);var M=o(B,2),z=c(M),A=c(z);v(A),b(2),p(z),p(M),p(d),r(()=>{x(h,g(t).name),x(k,g(t).description),x(D,`Day offset: ${g(t).dayOffset??""}`)}),i("click",O,()=>{return e=g(t).id,K=K.filter(t=>t.id!==e),void delete R[e];var e}),f(A,()=>g(t).repeatable,e=>g(t).repeatable=e),l(e,d)}),p(Z);var _=o(Z,2),ee=o(c(_),2),te=c(ee),ae=c(te),se=c(ae),re=o(c(se));a(re,17,()=>L,e=>e.id,(e,t)=>{var a=O(),s=c(a,!0);p(a),r(()=>x(s,g(t).name)),l(e,a)}),p(se),p(ae);var ie=o(ae);a(ie,21,()=>K,e=>e.id,(e,t)=>{var i=z(),d=c(i),n=c(d,!0);p(d);var b=o(d);a(b,17,()=>L,e=>e.id,(e,a)=>{var r=M(),i=c(r),d=e=>{var t=B();l(e,t)},n=e=>{var t=C();l(e,t)};s(i,e=>{R[g(t).id]?.includes(g(a).id)?e(d):e(n,!1)}),p(r),l(e,r)}),p(i),r(()=>x(n,g(t).name)),l(e,i)}),p(ie),p(te),p(ee),p(_);var le=o(_,2),de=e=>{var t=A(),a=c(t),s=o(c(a),2),r=c(s),d=o(c(r),2);v(d),p(r);var n=o(r,2),b=o(c(n),2);v(b),p(n);var g=o(n,2),m=o(c(g),2);v(m),p(g),p(s);var x=o(s,2),f=c(x),u=o(f,2);p(x),p(a),p(t),k(d,()=>W,e=>W=e),k(b,()=>Y,e=>Y=e),k(m,()=>q,e=>q=e),i("click",f,()=>S=!1),i("click",u,G),l(e,t)};s(le,e=>{S&&e(de)}),p(P),r(()=>u(T,"href",g(J))),i("click",X,()=>S=!0),l(t,P),d(),F()}export{V as component};
