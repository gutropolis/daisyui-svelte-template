import{p as e,f as t,b as a,t as l,v as s,a as r,d as o,w as i,g as n,c as d,m as c,j as p,x as u,h as b,n as v,r as x,y as f,z as m,e as g,k as y,A as h,B as w,C as k,D,F as _,G as C,H as I,I as j,J as P}from"../chunks/O-IopRwW.js";import{b as S}from"../chunks/pgnebUR0.js";import{r as F}from"../chunks/DVfzy2eF.js";var B=t('<div class="p-12 text-center"><i class="fas fa-inbox text-4xl text-gray-300 mb-4 block"></i> <p class="text-gray-500">No records yet. Create one to start data entry.</p></div>'),E=t('<tr class="hover:bg-gray-50 transition-colors"><td class="px-6 py-3 font-semibold text-gray-800"> </td><td class="px-6 py-3 text-gray-700"> </td><td class="px-6 py-3 text-gray-600"> </td><td class="px-6 py-3 text-gray-600"> </td><td class="px-6 py-3"><div class="flex items-center gap-2"><i></i> <span> </span></div></td><td class="px-6 py-3 text-gray-600"> </td><td class="px-6 py-3 space-x-2 flex"><button class="px-3 py-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 text-xs font-medium transition-colors"><i class="fas fa-edit"></i> Edit</button> <button class="px-3 py-1 bg-red-50 text-red-600 rounded hover:bg-red-100 text-xs font-medium transition-colors"><i class="fas fa-trash"></i> Delete</button></td></tr>'),q=t('<div class="overflow-x-auto"><table class="w-full text-sm"><thead class="bg-gray-50 border-b border-gray-200"><tr><th class="px-6 py-3 text-left font-semibold text-gray-700">Patient ID</th><th class="px-6 py-3 text-left font-semibold text-gray-700">Name</th><th class="px-6 py-3 text-left font-semibold text-gray-700">Event</th><th class="px-6 py-3 text-left font-semibold text-gray-700">Form</th><th class="px-6 py-3 text-left font-semibold text-gray-700">Status</th><th class="px-6 py-3 text-left font-semibold text-gray-700">Last Updated</th><th class="px-6 py-3 text-left font-semibold text-gray-700">Actions</th></tr></thead><tbody class="divide-y divide-gray-200"></tbody></table></div>'),A=t('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4"><h2 class="text-xl font-bold text-gray-800 mb-4">Create New Record</h2> <div class="space-y-4"><div><label for="patient-id" class="block text-sm font-medium text-gray-700 mb-1">Patient ID</label> <input id="patient-id" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" placeholder="e.g., P001"/></div> <div><label for="event-select" class="block text-sm font-medium text-gray-700 mb-1">Event</label> <select id="event-select" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"><option>Baseline Visit</option><option>Week 4 Follow-up</option><option>Week 12 Follow-up</option><option>Final Visit</option></select></div> <div><label for="form-select" class="block text-sm font-medium text-gray-700 mb-1">Starting Form</label> <select id="form-select" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"><option>Demographics</option><option>Vital Signs</option><option>Medical History</option><option>Current Medications</option></select></div></div> <div class="flex gap-2 justify-end mt-6 border-t pt-4"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors disabled:opacity-50">Create Record</button></div></div></div>'),M=t('<span class="text-red-500">*</span>'),R=t('<input class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"/>'),V=t('<input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"/>'),$=t("<option> </option>"),H=t('<select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"></select>'),N=t('<textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" rows="4"></textarea>'),W=t('<label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-blue-600 rounded"/> <span class="text-gray-700"> </span></label>'),z=t('<label class="flex items-center gap-2 cursor-pointer"><input type="radio" class="w-4 h-4 text-blue-600"/> <span class="text-gray-700"> </span></label>'),J=t('<div class="space-y-2"></div>'),O=t('<div><label class="block text-sm font-medium text-gray-700 mb-2"> <!></label> <!></div>'),Y=t('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto"><div class="bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 my-8"><div class="flex items-center justify-between mb-6 border-b pb-4"><div><h2 class="text-2xl font-bold text-gray-800">Data Entry Form</h2> <p class="text-sm text-gray-600 mt-1">Patient <span class="font-semibold"> </span> </p></div> <button class="text-gray-500 hover:text-gray-700 text-2xl" aria-label="Close form">×</button></div> <div class="space-y-6 max-h-[60vh] overflow-y-auto mb-6"></div> <div class="flex gap-2 justify-end border-t pt-4"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Discard</button> <button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors disabled:opacity-50"><i class="fas fa-save mr-2"></i> Save & Complete</button></div></div></div>'),T=t('<div class="p-6 space-y-6"><div><a class="flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium mb-4"><i class="fas fa-arrow-left"></i>Back to Project</a> <h1 class="text-3xl font-bold text-gray-800 mb-2">Data Entry & Records</h1> <p class="text-gray-600">View and manage patient records and data entry forms</p></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-linear-to-br from-blue-50 to-blue-100 rounded-lg shadow p-6 border border-blue-200"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 font-medium">Total Records</p> <p class="text-3xl font-bold text-blue-600 mt-1"> </p></div> <i class="fas fa-database text-4xl text-blue-200"></i></div></div> <div class="bg-linear-to-br from-green-50 to-green-100 rounded-lg shadow p-6 border border-green-200"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 font-medium">Completed</p> <p class="text-3xl font-bold text-green-600 mt-1"> </p></div> <i class="fas fa-check-circle text-4xl text-green-200"></i></div></div> <div class="bg-linear-to-br from-yellow-50 to-yellow-100 rounded-lg shadow p-6 border border-yellow-200"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 font-medium">Incomplete</p> <p class="text-3xl font-bold text-yellow-600 mt-1"> </p></div> <i class="fas fa-hourglass-half text-4xl text-yellow-200"></i></div></div> <div class="bg-linear-to-br from-purple-50 to-purple-100 rounded-lg shadow p-6 border border-purple-200"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 font-medium">Completion Rate</p> <p class="text-3xl font-bold text-purple-600 mt-1"> </p></div> <i class="fas fa-chart-pie text-4xl text-purple-200"></i></div></div></div> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors flex items-center gap-2"><i class="fas fa-plus"></i> Create New Record</button> <div class="bg-white rounded-lg shadow overflow-hidden"><div class="p-6 border-b border-gray-200"><h2 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="fas fa-list text-blue-600"></i> Patient Records</h2></div> <!></div> <div class="bg-blue-50 rounded-lg shadow p-6 border border-blue-200"><h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2"><i class="fas fa-info-circle text-blue-600"></i> Data Entry Best Practices</h3> <ul class="space-y-2 text-sm text-gray-700"><li class="flex items-start gap-2"><span class="text-blue-600 font-bold">•</span> <span><strong>Save drafts:</strong> Save incomplete forms as drafts before closing</span></li> <li class="flex items-start gap-2"><span class="text-blue-600 font-bold">•</span> <span><strong>Verify data:</strong> Double-check entries for accuracy before marking complete</span></li> <li class="flex items-start gap-2"><span class="text-blue-600 font-bold">•</span> <span><strong>Follow protocols:</strong> Adhere to study SOPs when collecting data</span></li> <li class="flex items-start gap-2"><span class="text-blue-600 font-bold">•</span> <span><strong>Track changes:</strong> All modifications are logged with timestamp and user</span></li></ul></div> <!> <!></div>');function U(t,U){e(U,!0);const[G,L]=i(),K=[];let Q=[{id:1,patientId:"P001",name:"John Smith",status:"Complete",event:"Baseline Visit",form:"Demographics",completedDate:"2024-01-15"},{id:2,patientId:"P002",name:"Jane Doe",status:"Incomplete",event:"Week 4 Follow-up",form:"Vital Signs",completedDate:void 0},{id:3,patientId:"P003",name:"Bob Johnson",status:"Draft",event:"Baseline Visit",form:"Medical History",completedDate:void 0}],X=[{id:"demographics_dob",name:"dob",label:"Date of Birth",type:"date",required:!0,value:"",placeholder:"MM/DD/YYYY"},{id:"demographics_gender",name:"gender",label:"Gender",type:"select",required:!0,value:"",options:[{label:"Select...",value:""},{label:"Male",value:"M"},{label:"Female",value:"F"},{label:"Other",value:"O"}]},{id:"demographics_race",name:"race",label:"Race/Ethnicity",type:"select",required:!1,value:"",options:[{label:"Select...",value:""},{label:"White",value:"W"},{label:"Black/African American",value:"B"},{label:"Asian",value:"A"},{label:"Hispanic/Latino",value:"H"}]},{id:"demographics_phone",name:"phone",label:"Phone Number",type:"text",required:!1,value:"",placeholder:"(555) 123-4567",validation:"phone"},{id:"demographics_email",name:"email",label:"Email Address",type:"email",required:!1,value:"",placeholder:"patient@example.com"}],Z=null,ee=!1,te=!1,ae="",le="baseline",se="demographics";const re=()=>{if(!ae.trim())return;const e={id:Math.max(...Q.map(e=>e.id),0)+1,patientId:ae,name:`Patient ${ae}`,status:"Draft",event:le,form:se};Q=[...Q,e],ee=!1,ae=""},oe=()=>{if(Z){const e=Q.findIndex(e=>e.id===Z.id);e>=0&&(Q[e].status="Complete",Q[e].completedDate=(new Date).toISOString().split("T")[0],Q=[...Q])}te=!1,Z=null,X.forEach(e=>e.value="")},ie=u(()=>f(m,"$page",G).params.projectId??"1"),ne=u(()=>F(S,p(ie)));var de=T(),ce=d(de),pe=d(ce);v(4),x(ce);var ue=n(ce,2),be=d(ue),ve=d(be),xe=d(ve),fe=n(d(xe),2),me=d(fe,!0);x(fe),x(xe),v(2),x(ve),x(be);var ge=n(be,2),ye=d(ge),he=d(ye),we=n(d(he),2),ke=d(we,!0);x(we),x(he),v(2),x(ye),x(ge);var De=n(ge,2),_e=d(De),Ce=d(_e),Ie=n(d(Ce),2),je=d(Ie,!0);x(Ie),x(Ce),v(2),x(_e),x(De);var Pe=n(De,2),Se=d(Pe),Fe=d(Se),Be=n(d(Fe),2),Ee=d(Be);x(Be),x(Fe),v(2),x(Se),x(Pe),x(ue);var qe=n(ue,2),Ae=n(qe,2),Me=n(d(Ae),2),Re=e=>{var t=B();r(e,t)},Ve=e=>{var t=q(),a=d(t),o=n(d(a));g(o,21,()=>Q,e=>e.id,(e,t)=>{var a=E(),o=d(a),i=d(o,!0);x(o);var u=n(o),v=d(u,!0);x(u);var f=n(u),m=d(f,!0);x(f);var g=n(f),h=d(g,!0);x(g);var w=n(g),k=d(w),D=d(k),_=n(D,2),C=d(_,!0);x(_),x(k),x(w);var I=n(w),j=d(I,!0);x(I);var P=n(I),S=d(P),F=n(S,2);x(P),x(a),l((e,a)=>{b(i,p(t).patientId),b(v,p(t).name),b(m,p(t).event),b(h,p(t).form),y(D,1,`fas ${e??""}`),y(_,1,`px-3 py-1 rounded-full text-xs font-medium ${a??""}`),b(C,p(t).status),b(j,p(t).completedDate||"—"),c(F,"aria-label",`Delete record ${p(t).patientId??""}`)},[()=>(e=>{switch(e){case"Complete":return"fa-check-circle text-green-600";case"Incomplete":return"fa-exclamation-circle text-yellow-600";case"Unverified":return"fa-question-circle text-blue-600";case"Draft":return"fa-pen-square text-gray-600";default:return"fa-circle text-gray-600"}})(p(t).status),()=>(e=>{switch(e){case"Complete":return"bg-green-100 text-green-800";case"Incomplete":return"bg-yellow-100 text-yellow-800";case"Unverified":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(p(t).status)]),s("click",S,()=>(e=>{Z=e,te=!0})(p(t))),s("click",F,()=>{return e=p(t).id,void(Q=Q.filter(t=>t.id!==e));var e}),r(e,a)}),x(o),x(a),x(t),r(e,t)};a(Me,e=>{0===Q.length?e(Re):e(Ve,!1)}),x(Ae);var $e=n(Ae,4),He=e=>{var t=A(),a=d(t),o=n(d(a),2),i=d(o),c=n(d(i),2);h(c),x(i);var p=n(i,2),u=n(d(p),2),b=d(u);b.value=b.__value="baseline";var v=n(b);v.value=v.__value="week4";var f=n(v);f.value=f.__value="week12";var m=n(f);m.value=m.__value="final",x(u),x(p);var g=n(p,2),y=n(d(g),2),D=d(y);D.value=D.__value="demographics";var _=n(D);_.value=_.__value="vital-signs";var C=n(_);C.value=C.__value="medical-history";var I=n(C);I.value=I.__value="medications",x(y),x(g),x(o);var j=n(o,2),P=d(j),S=n(P,2);x(j),x(a),x(t),l(e=>S.disabled=e,[()=>!ae.trim()]),w(c,()=>ae,e=>ae=e),k(u,()=>le,e=>le=e),k(y,()=>se,e=>se=e),s("click",P,()=>ee=!1),s("click",S,re),r(e,t)};a($e,e=>{ee&&e(He)});var Ne=n($e,2),We=e=>{var t=Y(),o=d(t),i=d(o),u=d(i),v=n(d(u),2),f=n(d(v)),m=d(f,!0);x(f);var y=n(f);x(v),x(u);var S=n(u,2);x(i);var F=n(i,2);g(F,21,()=>X,e=>e.id,(e,t,s)=>{var o=O(),i=d(o),u=d(i),v=n(u),f=e=>{var t=M();r(e,t)};a(v,e=>{p(t).required&&e(f)}),x(i);var m=n(i,2),y=e=>{var a=R();h(a),l(()=>{c(a,"id",p(t).id),c(a,"type",p(t).type),c(a,"placeholder",p(t).placeholder)}),w(a,()=>p(t).value,e=>p(t).value=e),r(e,a)},S=e=>{var o=D(),i=_(o),u=e=>{var a=V();h(a),l(()=>c(a,"id",p(t).id)),w(a,()=>p(t).value,e=>p(t).value=e),r(e,a)},v=e=>{var o=D(),i=_(o),u=e=>{var a=H();g(a,21,()=>p(t).options||[],C,(e,t)=>{var a=$(),s=d(a,!0);x(a);var o={};l(()=>{b(s,p(t).label),o!==(o=p(t).value)&&(a.value=(a.__value=p(t).value)??"")}),r(e,a)}),x(a),l(()=>c(a,"id",p(t).id)),k(a,()=>p(t).value,e=>p(t).value=e),r(e,a)},v=e=>{var o=D(),i=_(o),u=e=>{var a=N();I(a),l(()=>{c(a,"id",p(t).id),c(a,"placeholder",p(t).placeholder)}),w(a,()=>p(t).value,e=>p(t).value=e),r(e,a)},v=e=>{var o=D(),i=_(o),u=e=>{var a=W(),s=d(a);h(s);var o=n(s,2),i=d(o,!0);x(o),x(a),l(()=>{c(s,"id",p(t).id),j(s,!0===p(t).value||"true"===p(t).value),b(i,p(t).label)}),r(e,a)},v=e=>{var o=D(),i=_(o),u=e=>{var a=J();g(a,21,()=>p(t).options||[],C,(e,a)=>{var o,i=z(),u=d(i);h(u);var v=n(u,2),f=d(v,!0);x(v),x(i),l(()=>{c(u,"name",p(t).id),o!==(o=p(a).value)&&(u.value=(u.__value=p(a).value)??""),b(f,p(a).label)}),P(K,[s],u,()=>(p(a).value,p(t).value),e=>p(t).value=e),r(e,i)}),x(a),r(e,a)};a(i,e=>{"radio"===p(t).type&&e(u)},!0),r(e,o)};a(i,e=>{"checkbox"===p(t).type?e(u):e(v,!1)},!0),r(e,o)};a(i,e=>{"textarea"===p(t).type?e(u):e(v,!1)},!0),r(e,o)};a(i,e=>{"select"===p(t).type?e(u):e(v,!1)},!0),r(e,o)};a(i,e=>{"date"===p(t).type?e(u):e(v,!1)},!0),r(e,o)};a(m,e=>{"text"===p(t).type||"email"===p(t).type||"number"===p(t).type?e(y):e(S,!1)}),x(o),l(()=>{c(i,"for",p(t).id),b(u,`${p(t).label??""} `)}),r(e,o)}),x(F);var B=n(F,2),E=d(B),q=n(E,2);x(B),x(o),x(t),l(e=>{b(m,Z.patientId),b(y,` - ${Z.form??""}`),q.disabled=e},[()=>!X.every(e=>!e.required||""!==e.value)]),s("click",S,()=>{te=!1,Z=null}),s("click",E,()=>{te=!1,Z=null,X.forEach(e=>e.value="")}),s("click",q,oe),r(e,t)};a(Ne,e=>{te&&Z&&e(We)}),x(de),l((e,t,a)=>{c(pe,"href",p(ne)),b(me,Q.length),b(ke,e),b(je,t),b(Ee,`${a??""}%`)},[()=>Q.filter(e=>"Complete"===e.status).length,()=>Q.filter(e=>"Incomplete"===e.status||"Draft"===e.status).length,()=>Math.round(Q.filter(e=>"Complete"===e.status).length/Q.length*100)]),s("click",qe,()=>ee=!0),r(t,de),o(),L()}export{U as component};
