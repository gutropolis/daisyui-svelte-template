import{p as e,f as t,e as a,c as s,g as r,b as i,t as o,C as l,K as n,v as d,a as c,d as p,w as m,n as u,r as g,k as b,j as v,h as f,A as x,m as y,x as h,y as w,z as k,B as D}from"../chunks/O-IopRwW.js";import{b as j}from"../chunks/pgnebUR0.js";import{r as C}from"../chunks/DVfzy2eF.js";var _=t('<button><i></i> <p class="font-semibold text-gray-800"> </p> <p class="text-xs text-gray-600 mt-1"> </p></button>'),S=t('<span class="text-xs text-gray-500"> </span>'),R=t('<div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"><div class="flex items-start justify-between mb-3"><div class="flex items-center gap-2"><i></i> <h3 class="font-bold text-gray-800"> </h3></div> <button class="px-2 py-1 bg-red-50 text-red-600 rounded hover:bg-red-100 text-xs"><i class="fas fa-trash"></i></button></div> <p class="text-sm text-gray-600 mb-3"> </p> <div class="flex items-center justify-between mb-4"><span> </span> <!></div> <button class="w-full px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm font-medium transition-colors"><i class="fas fa-cog mr-1"></i> Generate Report</button></div>'),E=t('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto"><h2 class="text-xl font-bold text-gray-800 mb-4">Export Preview</h2> <div class="bg-gray-50 rounded p-4 mb-4 max-h-[40vh] overflow-y-auto font-mono text-xs text-gray-700"><div>patientId,name,event,form,status,completedDate</div> <div>P001,John Smith,Baseline,Demographics,Complete,2024-01-15</div> <div>P002,Jane Doe,Week 4,Vital Signs,Incomplete,</div> <div>P003,Bob Johnson,Baseline,Medical History,Draft,</div> <div>P004,Alice Williams,Final,Lab Results,Complete,2024-01-16</div></div> <p class="text-sm text-gray-600 mb-6">This preview shows the first few rows. The actual export will include all matching records.</p> <div class="flex gap-2 justify-end border-t pt-4"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Close</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"><i class="fas fa-download mr-2"></i> Download</button></div></div></div>'),P=t('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4"><h2 class="text-xl font-bold text-gray-800 mb-4">Create Custom Report</h2> <div class="space-y-4"><div><label for="report-name" class="block text-sm font-medium text-gray-700 mb-1">Report Name</label> <input id="report-name" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none" placeholder="e.g., Weekly Summary"/></div> <div><label for="report-type" class="block text-sm font-medium text-gray-700 mb-1">Report Type</label> <select id="report-type" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"><option>Summary</option><option>Detailed</option><option>Statistical</option><option>Compliance</option></select></div></div> <div class="flex gap-2 justify-end mt-6 border-t pt-4"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">Cancel</button> <button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors disabled:opacity-50">Create Report</button></div></div></div>'),T=t('<div class="p-6 space-y-6"><div><a class="flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium mb-4"><i class="fas fa-arrow-left"></i>Back to Project</a> <h1 class="text-3xl font-bold text-gray-800 mb-2">Data Export & Reporting</h1> <p class="text-gray-600">Export data and generate comprehensive project reports</p></div> <div class="bg-white rounded-lg shadow overflow-hidden"><div class="p-6 border-b border-gray-200"><h2 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="fas fa-download text-blue-600"></i> Export Project Data</h2></div> <div class="p-6 space-y-6"><div><h3 class="font-semibold text-gray-800 mb-4">Select Export Format</h3> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"></div></div> <div><h3 class="font-semibold text-gray-800 mb-4">Export Options</h3> <div class="space-y-4"><div><label for="event-select" class="block text-sm font-medium text-gray-700 mb-2">Events to Include</label> <select id="event-select" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"><option>All Events</option><option>Baseline Visit</option><option>Week 4 Follow-up</option><option>Week 12 Follow-up</option><option>Final Visit</option></select></div> <div class="space-y-3"><label class="flex items-center gap-3 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-blue-600 rounded"/> <span class="text-sm text-gray-700">Include metadata (timestamps, user info)</span></label> <label class="flex items-center gap-3 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-blue-600 rounded"/> <span class="text-sm text-gray-700">Include locked/completed records</span></label></div></div></div> <div class="flex gap-3 pt-4 border-t"><button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors flex items-center gap-2"><i class="fas fa-eye"></i> Preview</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors flex items-center gap-2"><i class="fas fa-download"></i> Export Now</button></div></div></div> <div class="bg-white rounded-lg shadow overflow-hidden"><div class="p-6 border-b border-gray-200 flex items-center justify-between"><h2 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="fas fa-chart-line text-green-600"></i> Report Templates</h2> <button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors flex items-center gap-2"><i class="fas fa-plus"></i> Create Report</button></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-6"></div></div> <div class="bg-green-50 rounded-lg shadow p-6 border border-green-200"><h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2"><i class="fas fa-lightbulb text-green-600"></i> Reporting Features</h3> <ul class="space-y-2 text-sm text-gray-700"><li class="flex items-start gap-2"><span class="text-green-600 font-bold">•</span> <span><strong>Custom Reports:</strong> Design custom reports with selected fields and filters</span></li> <li class="flex items-start gap-2"><span class="text-green-600 font-bold">•</span> <span><strong>Scheduled Exports:</strong> Set up automated daily/weekly/monthly exports</span></li> <li class="flex items-start gap-2"><span class="text-green-600 font-bold">•</span> <span><strong>Data Validation:</strong> Built-in quality checks and anomaly detection</span></li> <li class="flex items-start gap-2"><span class="text-green-600 font-bold">•</span> <span><strong>Audit Trail:</strong> Track all exports with timestamps and user information</span></li></ul></div> <!> <!></div>');function I(t,I){e(I,!0);const[B,F]=m();let G=[{id:"csv",name:"CSV",description:"Comma-separated values for spreadsheet applications",icon:"fa-file-csv",mimeType:"text/csv"},{id:"xlsx",name:"Excel",description:"Microsoft Excel format with formatting",icon:"fa-file-excel",mimeType:"application/vnd.ms-excel"},{id:"pdf",name:"PDF",description:"Portable Document Format with charts and tables",icon:"fa-file-pdf",mimeType:"application/pdf"},{id:"json",name:"JSON",description:"JSON format for data integration and APIs",icon:"fa-file-code",mimeType:"application/json"}],$=[{id:1,name:"Patient Demographics",description:"Summary of enrolled patients and demographics",type:"summary",fields:["patientId","name","dob","gender","race"],lastGenerated:"2024-01-15"},{id:2,name:"Data Completion Report",description:"Form completion rates and status by event",type:"detailed",fields:["event","form","completed","incomplete","percentage"],lastGenerated:"2024-01-14"},{id:3,name:"Data Quality Report",description:"Validation errors and data quality metrics",type:"compliance",fields:["errors","warnings","missingValues","outliers"],lastGenerated:"2024-01-10"},{id:4,name:"Statistical Summary",description:"Descriptive statistics for key variables",type:"statistical",fields:["variable","n","mean","sd","min","max"],lastGenerated:"2024-01-12"}],V="csv",A="all",J=!0,O=!1,W=!1,z=!1,L="",M="summary";const N=()=>{const e=G.find(e=>e.id===V);if(!e)return;console.log(`Exporting data as ${e.name}`,{format:V,event:A,includeMetadata:J,includeLocked:O});const t=new Blob(["patientId,name,event,form,status\nP001,John Smith,Baseline,Demographics,Complete\n"],{type:e.mimeType}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`export-${(new Date).toISOString().split("T")[0]}.${V}`,s.click()},U=()=>{if(!L.trim())return;const e={id:Math.max(...$.map(e=>e.id),0)+1,name:L,description:"Custom report template",type:M,fields:[],lastGenerated:void 0};$=[...$,e],L="",M="summary"},q=h(()=>w(k,"$page",B).params.projectId??"1"),H=h(()=>C(j,v(q)));var K=T(),Q=s(K),X=s(Q);u(4),g(Q);var Y=r(Q,2),Z=r(s(Y),2),ee=s(Z),te=r(s(ee),2);a(te,21,()=>G,e=>e.id,(e,t)=>{var a=_(),i=s(a),l=r(i,2),n=s(l,!0);g(l);var p=r(l,2),m=s(p,!0);g(p),g(a),o(()=>{b(a,1,"p-4 border-2 rounded-lg transition-all text-left hover:shadow-md "+(V===v(t).id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300")),b(i,1,`fas ${v(t).icon??""} text-2xl text-gray-700 mb-2 block`),f(n,v(t).name),f(m,v(t).description)}),d("click",a,()=>V=v(t).id),c(e,a)}),g(te),g(ee);var ae=r(ee,2),se=r(s(ae),2),re=s(se),ie=r(s(re),2),oe=s(ie);oe.value=oe.__value="all";var le=r(oe);le.value=le.__value="baseline";var ne=r(le);ne.value=ne.__value="week4";var de=r(ne);de.value=de.__value="week12";var ce=r(de);ce.value=ce.__value="final",g(ie),g(re);var pe=r(re,2),me=s(pe),ue=s(me);x(ue),u(2),g(me);var ge=r(me,2),be=s(ge);x(be),u(2),g(ge),g(pe),g(se),g(ae);var ve=r(ae,2),fe=s(ve),xe=r(fe,2);g(ve),g(Z),g(Y);var ye=r(Y,2),he=s(ye),we=r(s(he),2);g(he);var ke=r(he,2);a(ke,21,()=>$,e=>e.id,(e,t)=>{var a=R(),l=s(a),n=s(l),p=s(n),m=r(p,2),u=s(m,!0);g(m),g(n);var x=r(n,2);g(l);var h=r(l,2),w=s(h,!0);g(h);var k=r(h,2),D=s(k),j=s(D,!0);g(D);var C=r(D,2),_=e=>{var a=S(),r=s(a);g(a),o(()=>f(r,`Generated: ${v(t).lastGenerated??""}`)),c(e,a)};i(C,e=>{v(t).lastGenerated&&e(_)}),g(k);var E=r(k,2);g(a),o((e,a,s)=>{b(p,1,`fas ${e??""} text-xl text-gray-600`),f(u,v(t).name),y(x,"aria-label",`Delete report ${v(t).name??""}`),f(w,v(t).description),b(D,1,`px-2 py-1 rounded text-xs font-medium ${a??""}`),f(j,s)},[()=>(e=>{switch(e){case"summary":return"fa-file-alt";case"detailed":return"fa-file-lines";case"statistical":return"fa-chart-bar";case"compliance":return"fa-check-double";default:return"fa-file"}})(v(t).type),()=>(e=>{switch(e){case"summary":return"bg-blue-100 text-blue-800";case"detailed":return"bg-green-100 text-green-800";case"statistical":return"bg-purple-100 text-purple-800";case"compliance":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(v(t).type),()=>v(t).type.charAt(0).toUpperCase()+v(t).type.slice(1)]),d("click",x,()=>{return e=v(t).id,void($=$.filter(t=>t.id!==e));var e}),d("click",E,()=>(v(t),void(z=!0))),c(e,a)}),g(ke),g(ye);var De=r(ye,4),je=e=>{var t=E(),a=s(t),i=r(s(a),6),o=s(i),l=r(o,2);g(i),g(a),g(t),d("click",o,()=>W=!1),d("click",l,()=>{N(),W=!1}),c(e,t)};i(De,e=>{W&&e(je)});var Ce=r(De,2),_e=e=>{var t=P(),a=s(t),i=r(s(a),2),n=s(i),p=r(s(n),2);x(p),g(n);var m=r(n,2),u=r(s(m),2),b=s(u);b.value=b.__value="summary";var v=r(b);v.value=v.__value="detailed";var f=r(v);f.value=f.__value="statistical";var y=r(f);y.value=y.__value="compliance",g(u),g(m),g(i);var h=r(i,2),w=s(h),k=r(w,2);g(h),g(a),g(t),o(e=>k.disabled=e,[()=>!L.trim()]),D(p,()=>L,e=>L=e),l(u,()=>M,e=>M=e),d("click",w,()=>z=!1),d("click",k,U),c(e,t)};i(Ce,e=>{z&&e(_e)}),g(K),o(()=>y(X,"href",v(H))),l(ie,()=>A,e=>A=e),n(ue,()=>J,e=>J=e),n(be,()=>O,e=>O=e),d("click",fe,()=>W=!0),d("click",xe,N),d("click",we,()=>z=!0),c(t,K),p(),F()}export{I as component};
