const e="en",t=["en","es"],o="PARAGLIDE_LOCALE",n=["cookie","globalVariable","baseLocale"];let r,i;function a(e){r=e}globalThis.__paraglide={};let l=!1,s=()=>{let t;if(r){const e=r?.getStore()?.locale;if(e)return e}for(const o of n){if("cookie"===o)t=g();else if("baseLocale"===o)t=e;else if("globalVariable"===o&&void 0!==i)t=i;else if(k(o)&&E.has(o)){const e=E.get(o);if(e){const o=e.getLocale();if(o instanceof Promise)continue;t=o}}if(void 0!==t){const e=d(t);return l||(i=e,l=!0,c(e,{reload:!1})),e}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},c=(e,t)=>{let o;try{o=s()}catch{}const r=[];for(const a of n)if("globalVariable"===a)i=e;else{if("cookie"===a)continue;if("baseLocale"===a)continue;if(k(a)&&E.has(a)){const t=E.get(a);if(t){let o=t.setLocale(e);o instanceof Promise&&(o=o.catch(e=>{throw new Error(`Custom strategy "${a}" setLocale failed.`,{cause:e})}),r.push(o))}}}if(r.length)return Promise.all(r).then(()=>{})},f=()=>r?r.getStore()?.origin??"http://fallback.com":"undefined"!=typeof window?window.location.origin:"http://fallback.com";function u(e){return"string"==typeof e&&(!!e&&t.some(t=>t.toLowerCase()===e.toLowerCase()))}function d(e){if("string"!=typeof e)throw new Error(`Invalid locale: ${e}. Expected a string.`);const o=e.toLowerCase(),n=t.find(e=>e.toLowerCase()===o);if(!n)throw new Error(`Invalid locale: ${e}. Expected one of: ${t.join(", ")}`);return n}const h=async t=>{let r;for(const e of n)if(k(e)&&v.has(e)){const o=v.get(e);if(o&&(r=await o.getLocale(t)),void 0!==r&&u(r))return d(r)}return r=(t=>{let r;for(const a of n){if("cookie"===a)r=t.headers.get("cookie")?.split("; ").find(e=>e.startsWith(o+"="))?.split("=")[1];else if("globalVariable"===a)r=i;else{if("baseLocale"===a)return e;if("localStorage"===a)continue;if(k(a))continue}if(void 0!==r){if(u(r))return d(r);r=void 0}}throw new Error("No locale found. There is an error in your strategy. Try adding 'baseLocale' as the very last strategy. Read more here https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")})(t),d(r)};function g(){if("undefined"==typeof document||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${o}=([^;]+)`)),t=e?.[2];return u(t)?t:void 0}let w,p;function m(t){const o="string"==typeof t?t:t.href;if(w===o)return p;let n;return n=function(t){const o=new URL(t,"http://dummy.com"),n=o.pathname.split("/").filter(Boolean);if(n.length>0){const e=n[0];if(u(e))return e}return e}(t),w=o,p=n,n}function L(t,o){return function(t,o){const n="string"==typeof t?new URL(t,f()):new URL(t),r=o?.locale??s();if(m(n)===r)return n;const i=n.pathname.split("/").filter(Boolean);i.length>0&&u(i[0])&&i.shift();n.pathname=r===e?"/"+i.join("/"):"/"+r+"/"+i.join("/");return n}(t,o)}function y(e){return function(e){const t="string"==typeof e?new URL(e,f()):new URL(e),o=t.pathname.split("/").filter(Boolean);o.length>0&&u(o[0])&&(t.pathname="/"+o.slice(1).join("/"));return t}(e)}async function b(e={}){const t=await async function(e){if(e.locale)return d(e.locale);if(e.request)return h(e.request);return s()}(e);if(!n.includes("url"))return{shouldRedirect:!1,locale:t,redirectUrl:void 0};const o=function(e){if(e.request)return new URL(e.request.url);if(e.url instanceof URL)return new URL(e.url.href);if("string"==typeof e.url)return new URL(e.url,f());if("undefined"!=typeof window&&window?.location?.href)return new URL(window.location.href);throw new Error("shouldRedirect() requires either a request, an absolute URL, or must run in a browser environment.")}(e),r=L(o.href,{locale:t}),i=R(r.href)!==R(o.href);return{shouldRedirect:i,locale:t,redirectUrl:i?r:void 0}}function R(e){const t=new URL(e);return t.pathname=t.pathname.replace(/\/$/,""),t.href}function U(e,t){const o=r?.getStore();o&&o.messageCalls?.add(`${e}:${t}`)}const v=new Map,E=new Map;function k(e){return"string"==typeof e&&/^custom-[A-Za-z0-9_-]+$/.test(e)}export{n as a,r as b,y as d,s as g,a as o,b as s,U as t};
